<html lang="en"><head>
<meta charset="UTF-8">
<title>steamworks.gml cheat sheet</title>
<meta name="viewport" content="width=device-width" />
<meta name="livenode" content="#doc" />
<meta property="theme-color" content="<section><header>FFF037</header><article></article></section>" />
<meta property="og:type" content="article" />
<meta property="og:locale" content="en_us" />
<meta property="og:site_name" content="YellowAfterlife" />
<meta property="og:title" content="steamworks.gml cheat sheet" />
<meta property="og:url" content="https://yal.cc/r/17/steamworks-gml/" />
<meta property="twitter:url" content="https://yal.cc/r/17/steamworks-gml/" />
<meta property="og:description" content="A Steamworks SDK wrapper for GameMaker!" />
<meta property="twitter:description" content="A Steamworks SDK wrapper for GameMaker!" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="og:image" content="https://yal.cc/r/17/steamworks-gml/og.png" />
<meta property="og:image:width" content="640" />
<meta property="og:image:height" content="240" />
<meta property="twitter:image" content="https://yal.cc/r/17/steamworks-gml/og.png" />
<meta property="twitter:image:width" content="640" />
<meta property="twitter:image:height" content="240" />
<script type="text/javascript">
if (document.location.host == "yal.cc" && location.protocol == "http:") {
	document.location.protocol = "https:";
}
</script>
<style type="text/css">body, #doc tt, #doc code {
	font: 15px 'Open Sans', sans-serif;
	line-height: 1.35;
}
body {
	margin: 0;
}
.main {
	width: 100%;
	min-height: 100%;
	min-height: 100vh;
	background-color: #f5f7f9;
}
.page {
	max-width: 656px;
	background: #ffffff;
	margin: 0 auto;
	padding: 8px;
	box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
	min-height: 100%;
	min-height: 100vh;
	box-sizing: border-box;
}
.page > p:first-child {
	margin-top: 0;
}
#doc, #doc ul, #doc ol {
	padding-left: 0;
	margin: 0;
}
#doc article > ul, #doc article > ol {
	padding-left: 20px;
}
#doc article ul li {
	list-style: disc;
	list-style-image: url('data:image/svg+xml;base256,<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" width="20px" height="1em" viewBox="0 0 20px 1em"><circle cx="17px" cy="0.675em" r="2px"/></svg>'); 
}

#doc header {
	margin: 0;
	font-weight: 700;
	font-size: 100%;
	color: #458;
	border-left: 2px solid #f3f3f3;/* #f9f9f9*/
	padding-left: 4px;
	padding-top: 1px;
	padding-bottom: 1px;
	cursor: pointer;
}
#doc header a {
	outline: none;
	text-decoration: none;
	color: #458;
}
#doc header::before {
	display: inline-block;
	content: "+";
	font: 12px monospace;
	border: 1px solid #458;
	line-height: 11px;
	height: 11px;
	width: 11px;
	text-align: center;
	border-radius: 50%;
	margin-right: 4px;
	vertical-align: middle;
	position: relative;
	top: -1px;
}
#doc section.open > header::before {
	content: "-";
}
#doc section.empty > header::before {
	content: " "; /*"Â·"*/
}
#doc header:hover {
	border-left-color: #f3f3f3;
	background: #f3f3f3;
}
#doc header .ret-arrow {
	font-weight: normal;
	margin: 0 0.1em;
}

#doc a.broken {
	color: red;
}
#doc p, .intro p {
	margin: 0;
}
#doc p + p, .intro p + p, #doc p.pad, .display-controls {
	margin-top: 0.5em;
}
#doc img {
	max-width: 100%;
}
#doc h3 {
	margin: 0.25em 0;
	font-size: 125%;
	font-weight: normal;
	border-bottom: 1px solid #ccc;
}

#doc article, #doc ul {
	padding-left: 20px;
	border-left: 2px solid #f3f3f3;
}
#doc article {
	padding-top: 0.25em;
	padding-bottom: 0.5em;
}
#doc tt {
	font-weight: bold;
}
#doc code {
	display: inline-block;
	background: #FFFBE4;
	font-family: Consolas, Ubuntu Mono, Dejavu Sans Mono, Lucida Console, monospace;
	font-weight: normal;
	font-size: 12px;
	line-height: 16px;
	padding: 0 2px;
	border: 1px solid #E6E0C4;
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
	max-width: 100%;
	word-break: break-word;
}

#doc table {
	border-spacing: 0;
	color: currentColor;
}
#doc table, #doc table td, #doc table th {
	border: 1px solid #f3f3f3;
}
#doc table td, #doc table th {
	padding: 0.1em 0.5em;
}
#doc pre {
	font-family: Consolas, Dejavu Sans Mono, Segoe UI Mono, Ubuntu Mono, Lucida Console, monospace;
	font-size: 9pt;
	line-height: 1.25;
	background: white;
	padding: 4px 2px 4px 10px;
	margin: 0;
	-moz-tab-size: 4;
	tab-size: 4;
	overflow-x: auto;
	white-space: pre-wrap;
	word-break: break-all;
}
#doc pre a {
	text-decoration: none;
}
#doc pre a.uf {
	background-color: #f7f0ff;
}
#doc pre a.kw {
	background-color: #f0f7ff;
}
#doc pre a.sf, #doc pre a.sv {
	background-color: #fff3f0;
}
#doc pre a:hover {
	text-decoration: underline;
}
#doc abbr[title] {
	text-decoration: underline;
	-webkit-text-decoration-color: #bbb;
	text-decoration-color: #bbb;
	-webkit-text-decoration-style: double;
	text-decoration-style: double;
}
#doc hr {
	margin: 0.5em 0;
	margin-right: 1em;
	border: 0;
	border-top: 2px dashed #f3f3f3;
}
#doc section + hr {
	margin: 0;
	height: 1em;
	border: 1px solid #f3f3f3;
	border-width: 1px 0 1px 0;
}
#doc section {
	border-top: 1px solid #f3f3f3;
	margin-top: 0.3em;
}
#doc section:first-child {
	margin-top: 0em;
}
#doc section:last-child {
	border-bottom: 1px solid #f3f3f3;
}
#doc section + section, #doc hr + section {
	border-top: 0;
	margin-top: 0;
}
#doc section + p {
	border-top: 1px solid #f3f3f3;
	padding-top: 0.3em;
}
/* delay display until load */
#doc[ready] section:not(.open) > article {
	display: none;
}</style>
<style type="text/css" id="lang_gml">/* GameMakerLanguage */
pre.gmlmd .md { color: #7A81A9 } /* #define */
pre.gmlmd .kw { color: #008; font-weight: bold } /* keyword */
pre.gmlmd .co { color: #080 } /* comment */
pre.gmlmd .nu { color: #00f } /* number */
pre.gmlmd .nx { color: #00f } /* hex */
pre.gmlmd .st { color: #00f } /* string */
pre.gmlmd .ts { color: #00f } /* template string */
pre.gmlmd .op { color: #000 } /* operator */
pre.gmlmd .cb { color: #008; font-weight: bold } /* curly brace */
pre.gmlmd .sv { color: #800 } /* std func */
pre.gmlmd .sf { color: #800 } /* std var */
pre.gmlmd .ri { color: #0078aa } /* assets */
pre.gmlmd .uf { color: #808 } /* user func */
pre.gmlmd .uv { color: #000 } /* user var */
pre.gmlmd .lv { color: #648 } /* local var */
pre.gmlmd .fd { color: #804 } /* field */

#night:checked + .main pre.gmlmd .op { color: #CCCCCC }
#night:checked + .main pre.gmlmd .co { color: #5B995B }
#night:checked + .main pre.gmlmd .kw { color: #FFB871 }
#night:checked + .main pre.gmlmd .md { color: #FFB871 }
#night:checked + .main pre.gmlmd .cb { color: #FFB871 }
#night:checked + .main pre.gmlmd .sf { color: #FFB871 }
#night:checked + .main pre.gmlmd .uf { color: #FFB871 }
#night:checked + .main pre.gmlmd .nu { color: #FF8080 }
#night:checked + .main pre.gmlmd .st { color: #FCF320 }
#night:checked + .main pre.gmlmd .ts { color: #FF8080 }
#night:checked + .main pre.gmlmd .sv { color: #FF8080 }
#night:checked + .main pre.gmlmd .gv { color: #FF80FF }
#night:checked + .main pre.gmlmd .ri { color: #FF8080 }
#night:checked + .main pre.gmlmd .lv { color: #FFF899 }
#night:checked + .main pre.gmlmd .uv { color: #B2B1FF }
#night:checked + .main pre.gmlmd .fd { color: #B2B1FF }

#night:checked + .main pre.gmlmd a.uf,
#night:checked + .main pre.gmlmd a.kw,
#night:checked + .main pre.gmlmd a.sf {
	background-color: #431;
}
#night:checked + .main pre.gmlmd a.sv {
	background-color: #422;
}</style>
<style type="text/css" id="night_css">#night { display: none }
label[for="night"] {
	color: blue;
	text-decoration: underline;
	cursor: pointer;
}
#night:checked + .main {
	background-color: #424242;
}
#night:checked + .main .page {
	background-color: #1c1c1c;
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
	color: white;
}
#night:checked + .main a,
#night:checked + .main a:visited,
#night:checked + .main #doc header,
#night:checked + .main label[for="night"] {
	color: #9DEC76;
}
#night:checked + .main #doc header:before,
#night:checked + .main #doc h3 {
	border-color: #9DEC76
}
#night:checked + .main #doc header,
#night:checked + .main #doc header:hover,
#night:checked + .main #doc article,
#night:checked + .main #doc section,
#night:checked + .main #doc section + p,
#night:checked + .main #doc hr,
#night:checked + .main #doc ul,
#night:checked + .main #doc table,
#night:checked + .main #doc table td,
#night:checked + .main #doc table th
{
	border-color: rgba(205,225,255,0.1);
}
#night:checked + .main #doc header:hover,
#night:checked + .main #doc .asset:hover {
	background: rgba(205,225,255,0.1);
}
#night:checked + .main article ul li {
	list-style-image: url('data:image/svg+xml;base256,<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" width="20px" height="1em" viewBox="0 0 20px 1em"><circle cx="17px" cy="0.675em" r="2px" fill="white"/></svg>'); 
}
#night:checked + .main pre {
	color: #cccccc;
	background: #000000;
	border: 1px solid #3E4757;
}
#night:checked + .main #doc code {
	background-color: #000;
	border-color: #5b7c9f;
	color: white;
}</style>
<style type="text/css" id="print_css">@media print {
	.main { background-color: transparent }
	.display-controls { display: none; }
	.page { width: 100%; box-shadow: none; }
	#doc header::before,
	#doc section.open header::before	{
		content: "~";
	}
	#doc { display: inherit }
	#doc section:not(.open) > article,
	#doc[ready] section:not(.open) > article {
		display: inherit;
	}
}</style>
<noscript><style>#doc header::before {
	content: "~";
}
#doc header:hover {
	border-left-color: #f3f3f3;
	background: inherit;
}
#doc { display: inherit }
#doc section:not(.open) > article {
	display: inherit;
}</style></noscript>
</head><body>
<input type="checkbox" id="night" checked/>
<div class="main boxtt">
<script type="text/javascript">(function() {
	var night = document.getElementById("night");
	var path = "docmd night mode";
	var ls = window.localStorage;
	if (ls) {
		night.checked = ls.getItem(path) == "true";
		night.onchange = function(_) {
			ls.setItem(path, "" + night.checked);
		};
	}
})();</script>
<main class="page">
<section class="intro">This is a function "cheat sheet" for Steamworks.gml extension by YellowAfterlife.  <br/>
The extension is available <a href="https://github.com/YellowAfterlife/steamworks.gml">on GitHub</a>.  <br/>
Example files are available via <a href="https://yellowafterlife.itch.io/steamworks-gml-example">itch.io</a>.  <br/>
Donations are accepted via itch.io.  <br/>
A most up-to-date version of the manual is always <a href="https://yal.cc/r/17/steamworks-gml/">available online</a>.</section><section class="display-controls">
Click on sections to expand/collapse them.<br>Quick display controls:
<a href="#" onclick="opt_none(); return false">Categories</a>
&middot; <a href="#" onclick="opt_list(); return false">Sections</a>
&middot; <a href="#" onclick="opt_all(); return false">Everything</a>
&middot; <label for="night">Toggle night mode</label><br/>
</section><section id="doc">
<!--<doc--><p><p>

<style>
.main { background-color: #899FC6 }
.page { box-shadow: 0 0 8px rgba(0, 0, 0, 0.3) }
#night:checked + .main { background-color: #405070 }
#night:checked + .main .page { background-color: #1A202D }
</style>
















</p><section><header id="General"><a href="#General" title="(permalink)">General</a></header><article><section><header id="setting-up-steam"><a href="#setting-up-steam" title="(permalink)">Setting up Steam</a></header><article><p>
		See the <a href="https://help.yoyogames.com/hc/en-us/articles/216754138-Using-The-Steamworks-SDK-With-GameMaker-Studio">official documentation.</a>
		</p><p>
		Additional note: you can use the test application ID (480) prior to being granted your own application ID, but generally it shouldn't be used for public builds.
	</p></article></section><section><header id="testing"><a href="#testing" title="(permalink)">Testing games with Steam networking</a></header><article><p>
		There are a few things to note about how Steam API works:
		</p><ul>
		<li><p>	If multiple instances of the same game are ran at once, Steam does not tell them apart, and will send events to whichever happens to ask for them first.
			</p><p>
			Steam client will generally try to prevent you from opening multiples of the same game, but it's possible when running from editor.
		</p></li><li>	Steam API uses user IDs as endpoints for connections, meaning that you cannot expect reliable results if trying to send something to yourself.
		</li></ul><p>
		That said, if you want to test two or more game instances on the same computer, you need to run them through multiple instances of Steam tied to multiple accounts.
		</p><p>
		Being a single-instance application, Steam will generally not let you open multiple copies of it at once, but that is easily fixed - by using software like <a href="https://en.wikipedia.org/wiki/Sandboxie">Sandboxie</a> (or equivalent), you can run multiple instances of Steam with separate accounts and game libraries (if needed).
		</p><p>
		To make the process even more straightforward, you can also run multiple game instances straight from the editor. To do so, you would add a small script to return the combined parameter string for the program,
		</p><pre class="gmlmd">
<span class="co">/// parameter_string_all()</span>
<span class="kw">var</span> <span class="lv">r</span> <span class="op">=</span> <span class="st">""</span><span class="op">;</span>
<span class="kw">var</span> <span class="lv">n</span> <span class="op">=</span> <span class="sf">parameter_count</span><span class="op">(</span><span class="op">)</span><span class="op">;</span>
<span class="kw">for</span> <span class="op">(</span><span class="kw">var</span> <span class="lv">i</span> <span class="op">=</span> <span class="nu">0</span><span class="op">;</span> <span class="lv">i</span> <span class="op">&lt;</span> <span class="lv">n</span><span class="op">;</span> <span class="lv">i</span><span class="op">++</span><span class="op">)</span> <span class="cb">{</span>
    <span class="kw">if</span> <span class="op">(</span><span class="lv">i</span> <span class="op">&gt;</span> <span class="nu">0</span><span class="op">)</span> <span class="lv">r</span> <span class="op">+=</span> <span class="st">" "</span><span class="op">;</span>
    <span class="kw">var</span> <span class="lv">s</span> <span class="op">=</span> <span class="sf">parameter_string</span><span class="op">(</span><span class="lv">i</span><span class="op">)</span><span class="op">;</span>
    <span class="kw">if</span> <span class="op">(</span><span class="sf">string_pos</span><span class="op">(</span><span class="st">" "</span><span class="op">,</span> <span class="lv">s</span><span class="op">)</span><span class="op">)</span> <span class="cb">{</span>
        <span class="lv">r</span> <span class="op">+=</span> <span class="st">'"'</span> <span class="op">+</span> <span class="lv">s</span> <span class="op">+</span> <span class="st">'"'</span><span class="op">;</span>
    <span class="cb">}</span> <span class="kw">else</span> <span class="lv">r</span> <span class="op">+=</span> <span class="lv">s</span><span class="op">;</span>
<span class="cb">}</span>
<span class="kw">return</span> <span class="lv">r</span><span class="op">;</span>
</pre><p>
		and then copy that string to clipboard,
		</p><pre class="gmlmd">
<span class="sf">clipboard_set_text</span><span class="op">(</span><span class="uf">parameter_string_all</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">;</span>
</pre><p>
		on game start (or when other debug condition is met).
		</p><p>
		Then you would be able to use the copied parameter string to start up additional copies of the game in sandboxed environment(s).
	</p></article></section><section><header id="summary"><a href="#summary" title="(permalink)">Brief summary on Steam networking</a></header><article><p>
		There is a number of things to note about Steam networking compared to regular:
		</p><ul>
		<li><p>	System is P2P; user IDs are used as endpoints instead of IP+port.
			</p><p>
			If you need to port existing code utilizing IP+port combinations, you can use bit math to assume lower 32 bits to be the IP and higher 32 bits to be the port, for example.
		</p></li><li><p>	Steam handles sending/receiving and async events by itself, queuing the results.
			</p><p>
			This means that you generally should call the extension's update-function (<a href="#steam_gml_update">steam_gml_update</a>) every step while in lobby and at least once per second while not in lobby, or you may later deal with an avalanche of (outdated) events once finally calling it again.
			</p><p>
			This schema also introduces an interesting thing where if your game crashed without handling the remaining events/packets, you may receive them after restarting the game.
		</p></li><li><p>	Steam handles port forwarding by itself, meaning that it'll generally find any open port if there is one, and use a wide variety of workarounds to connect when there isn't one.
			</p><p>
			In worst case scenario Steam reverts to tunneling (using a Steam server as an intermediate node for connection), but this usually results in fairly high latency.
		</p></li><li><p>	Related to above, it may take up to 10 seconds to establish connection.
			</p><p>
			Afterwards, the connection is kept active for as long as anything is sent at least once every 30 seconds or so.
		</p></li></ul></article></section><section><header id="structs"><a href="#structs" title="(permalink)">Notes on structs</a></header><article><p>
		Some of the extension's functions take and/or return structures.
		</p><p>
		When using GameMaker Studio 2.3 with <a href="#steam_gml_use_structs">steam_gml_use_structs</a> enabled,
		these will be represented with GML structs.
		</p><p>
		Otherwise, they will be represented with arrays where fields are written sequentially.
	</p></article></section></article></section><section><header id="steam_general"><a href="#steam_general" title="(permalink)">General functions</a></header><article><section><header id="steam_gml_is_available"><a href="#steam_gml_is_available" title="(permalink)">steam_gml_is_available()&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
		Returns whether the native extension loaded at all.
	</p></article></section><section><header id="steam_gml_is_ready"><a href="#steam_gml_is_ready" title="(permalink)">steam_gml_is_ready()&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
		Returns whether the native extension had been loaded and initialized.
		</p><p>
		<b>NB!</b> in GMS2.3, "global" code in scripts runs before extension init does.
	</p></article></section><section><header id="steam_gml_check_version"><a href="#steam_gml_check_version" title="(permalink)">steam_gml_check_version()&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
		Returns whether the native extension is loaded correctly and has it's version matching the one that the game had been built with.
		</p><p>
		Can be used to timely inform the player that their copy might be broken instead of having them wonder why things are not working.
		</p><pre class="gmlmd">
<span class="kw">if</span> <span class="op">(</span><span class="op">!</span><a class="sf" href="#steam_gml_check_version">steam_gml_check_version</a><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="cb">{</span>
    <span class="sf">show_message</span><span class="op">(</span><span class="st">"oh no"</span><span class="op">)</span><span class="op">;</span>
<span class="cb">}</span>
</pre></article></section><section><header id="steam_gml_update"><a href="#steam_gml_update" title="(permalink)">steam_gml_update()</a></header><article><p>
		Polls Steam API and dispatches any new events since the last call to the function.
		</p><p>
		As outlined above, you generally want to call this function every now and then.
	</p></article></section></article></section><section><header id="steam_macros"><a href="#steam_macros" title="(permalink)">Macros</a></header><article><section><header id="steam_id_use_int64"><a href="#steam_id_use_int64" title="(permalink)">steam_id_use_int64</a></header><article><p>
		<b>Located in</b>: <code>steam_id.gml</code>
		</p><p>
		<b>Default:</b> <code>true</code>
		</p><p>
		Indicates whether the extension should use 64-bit integers for Steam IDs.
		</p><p>
		If disabled, the extension will instead represent IDs as two-element array with
		higher/lower 32-bit halves.
		</p><p>
		Exists only for backwards compatibility and will be removed at some point.
	</p></article></section><section><header id="steam_gml_use_structs"><a href="#steam_gml_use_structs" title="(permalink)">steam_gml_use_structs</a></header><article><p>
		<b>Located in</b>: <code>steam_core.gml</code>
		</p><p>
		<b>Default:</b> <code>true</code>
		</p><p>
		Indicates whether the extension should use GMS2.3 structs
		(as opposed to arrays)
		to represent multi-value arguments and return types in some cases.
		</p><p>
		Can be disabled to avoid changing code when migrating from GMS2.2 to GMS2.3+.
	</p></article></section></article></section><section><header id="steam_async"><a href="#steam_async" title="(permalink)">Async events</a></header><article><p>
	As result of a number of function calls, the extension dispatches asynchronous events.
	
	</p><p>
	
	Where appropriate,
	these events have <code>async_load[?"success"]</code> indicating whether the async action succeeded (true or false)
	and <code>async_load[?"result"]</code> containing the status code
	(see <a href="https://partner.steamgames.com/doc/api/steam_api#EResult">EResult</a>).
	</p><section><header id="steam_async_ids"><a href="#steam_async_ids" title="(permalink)">A note on IDs</a></header><article><p>
		For fields named <code>some_id_string</code>,
		the field contains a 64-bit integer converted to a string,
		which you may pass to <code>int64</code> to make an actual 64-bit integer out of it;
		there will also be <code>some_id_high</code> and <code>some_id_low</code> representing the 32-bit
		halves of it, which you can pass to <a href="#steam_id_create">steam_id_create</a> or combine yourself via bit operations.
		</p><p>
		This is due to GameMaker not allowing to include 64-bit integers in async events
	</p></article></section><p>
	These can be caught by adding a Async - Steam event, and checking whether <code>async_load[?"event_type"]</code> is one of following names (as strings):
	</p><section><header id="lobby_list"><a href="#lobby_list" title="(permalink)">lobby_list</a></header><article><p>
		Triggers after requesting a list of public lobbies via <a href="#steam_lobby_list_request">steam_lobby_list_request</a>.
		</p><p>
		It is not required to do anything in response to this event.
		</p><ul>
			<li> <code>async_load[?"success"]</code>, <code>async_load[?"result"]</code><br/>
			Generally lobby list request can only fail if there's no connection.
			</li><li> <code>async_load[?"lobby_count"]</code>: number of lobbies found.<br/>
			(same as <a href="#steam_lobby_list_get_count">steam_lobby_list_get_count</a>)
		</li></ul><p>
		Use <a href="#steam_lobby_list">matchmaking functions</a> to retrieve further information.
	</p></article></section><section><header id="lobby_joined"><a href="#lobby_joined" title="(permalink)">lobby_joined</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamMatchmaking#LobbyEnter_t">LobbyEnter_t</a>.
		</p><p>
		Triggers after requesting to join a lobby.
		</p><ul>
			<li><p> <code>async_load[?"success"]</code>, <code>async_load[?"result"]</code><br/>
			An attempt to join a lobby can fail on a few occasions, such as: </p><ul>
				<li> Lack of internet
				</li><li> Lack of connection to Steam (inc. maintenance)
				</li><li> Lobby being full
				</li><li> Lobby getting auto-destroyed by the time you requested to join it<br/>
				(a thing to be aware of when letting the user pick a lobby to join)
			</li></ul></li><li> <code>async_load[?"lobby_id_string"]</code><sup><a href="#steam_async_ids">[id]</a></sup>: ID of lobby joined, if successful.<br/>
			(equivalent to <a href="#steam_lobby_get_lobby_id">steam_lobby_get_lobby_id</a>)
		</li></ul><p>
		When successful, this is a good place to establish connection to lobby members.
	</p></article></section><section><header id="lobby_created"><a href="#lobby_created" title="(permalink)">lobby_created</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamMatchmaking#LobbyCreated_t">LobbyCreated_t</a>.
		</p><p>
		Triggers after requesting to create a lobby.
		</p><ul>
			<li><p> <code>async_load[?"success"]</code>, <code>async_load[?"result"]</code><br/>
			Can fail if: </p><ul>
				<li> Lack of connection to Steam (see above)
				</li><li> Matchmaking not being enabled for App ID.<br/>
				If you have marked your App ID as free when creating it, matchmaking will be disabled
				and you'll need to request matchmaking permissions from Steam Support.
			</li></ul></li><li> <code>async_load[?"lobby_id_string"]</code><sup><a href="#steam_async_ids">[id]</a></sup>: ID of lobby created, if successful.<br/>
			(equivalent to <a href="#steam_lobby_get_lobby_id">steam_lobby_get_lobby_id</a>)
		</li></ul><p>
		When successful, this is a good place to <a href="#steam_lobby_set_data">set up lobby data</a>.
	</p></article></section><section><header id="lobby_join_requested"><a href="#lobby_join_requested" title="(permalink)">lobby_join_requested</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamFriends#GameLobbyJoinRequested_t">GameLobbyJoinRequested_t</a>.
		</p><p>
		Triggers when the local player accepts an invitation via Steam overlay.
		</p><ul>
			<li> <code>async_load[?"lobby_id_string"]</code><sup><a href="#steam_async_ids">[id]</a></sup>: ID of lobby to be joined<br/>
			(via <a href="#steam_lobby_join_id">steam_lobby_join_id</a>)
			</li><li> <code>async_load[?"friend_id_string"]</code><sup><a href="#steam_async_ids">[id]</a></sup>: ID of user that sent the invitation<br/>
			(in case you want to display "joining X's lobby" while loading).
		</li></ul><p>
		Is commonly used as following:
		</p><pre class="gmlmd">
<span class="kw">if</span> <span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"event_type"</span><span class="op">]</span> <span class="op">==</span> <span class="st">"lobby_join_requested"</span><span class="op">)</span> <span class="cb">{</span>
    <a class="sf" href="#steam_lobby_join_id">steam_lobby_join_id</a><span class="op">(</span><a class="sf" href="#steam_id_create">steam_id_create</a><span class="op">(</span>
        <span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"lobby_id_high"</span><span class="op">]</span><span class="op">,</span>
        <span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"lobby_id_low"</span><span class="op">]</span>
    <span class="op">)</span><span class="op">)</span><span class="op">;</span>
<span class="cb">}</span>
</pre></article></section><section><header id="lobby_chat_update"><a href="#lobby_chat_update" title="(permalink)">lobby_chat_update</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamMatchmaking#LobbyChatUpdate_t">LobbyChatUpdate_t</a>.
		</p><p>
		Triggers upon arrival/departures of players in the lobby.
		</p><ul>
			<li> <code>async_load[?"lobby_id_string"]</code><sup><a href="#steam_async_ids">[id]</a></sup>: ID of lobby in question.
			</li><li> <code>async_load[?"user_id_string"]</code><sup><a href="#steam_async_ids">[id]</a></sup>: ID of user that things are happening to.
			</li><li> <code>async_load[?"change_id_string"]</code><sup><a href="#steam_async_ids">[id]</a></sup>: ID of user that's authoring the change.
			</li><li><p> <code>async_load[?"change_flags"]</code>: bit flags for whatever's happening.<br/>
			These can be the following: </p><ul>
				<li> <code>steam_lobby_member_change_entered</code>
				</li><li> <code>steam_lobby_member_change_left</code>
				</li><li> <code>steam_lobby_member_change_disconnected</code>
				</li><li> <code>steam_lobby_member_change_kicked</code>
				</li><li> <code>steam_lobby_member_change_banned</code>
			</li></ul><p>
			You may reasonably remark that there are no functions to kick/ban people,
			and, well, there aren't - that's just
			<a href="https://partner.steamgames.com/doc/api/ISteamMatchmaking#LobbyKicked_t">how Steam API is</a>.
			<a href="http://web.archive.org/web/20170920175315/https://partner.steamgames.com/doc/api/ISteamMatchmaking#LobbyKicked_t">Always has been</a>.
		</p></li></ul></article></section><section><header id="lobby_chat_message"><a href="#lobby_chat_message" title="(permalink)">lobby_chat_message</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamMatchmaking#LobbyChatMsg_t">LobbyChatMsg_t</a>.
		</p><p>
		Triggers as result of calling <a href="#steam_lobby_send_chat_message">steam_lobby_send_chat_message</a> or <a href="#steam_lobby_send_chat_message_buffer">steam_lobby_send_chat_message_buffer</a>.
		</p><ul>
			<li> <code>async_load[?"lobby_id_string"]</code><sup><a href="#steam_async_ids">[id]</a></sup>: ID of lobby in question.
			</li><li> <code>async_load[?"user_id_string"]</code><sup><a href="#steam_async_ids">[id]</a></sup>: ID of user that sent the message.
			</li><li> <code>async_load[?"entry_type"]</code>: a type from <a href="https://partner.steamgames.com/doc/api/steam_api#EChatEntryType">EChatEntryType</a>.<br/>
			There is no evidence that this can be anything other than "normal message".
			</li><li> <code>async_load[?"message_index"]</code>: message index.<br/>
			(for use with <a href="#steam_lobby_get_chat_message_text">steam_lobby_get_chat_message_text</a> or <a href="#steam_lobby_get_chat_message_data">steam_lobby_get_chat_message_data</a>)
			Note that chat messages expire after 3 calls to <code>steam_gml_update</code>,
			so you should not be storing this for later use.
			</li><li> <code>async_load[?"message_size"]</code>: size of received message, in bytes.
		</li></ul><p>
		Example:
		</p><pre class="gmlmd">
<span class="kw">if</span> <span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"event_type"</span><span class="op">]</span> <span class="op">==</span> <span class="st">"lobby_chat_message"</span><span class="op">)</span> <span class="cb">{</span>
    <span class="kw">var</span> <span class="lv">_msg_index</span> <span class="op">=</span> <span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"message_index"</span><span class="op">]</span><span class="op">;</span>
    <span class="kw">var</span> <span class="lv">_from_id</span> <span class="op">=</span> <span class="sf">int64</span><span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"user_id_string"</span><span class="op">]</span><span class="op">)</span><span class="op">;</span>
    <span class="kw">var</span> <span class="lv">_from_name</span> <span class="op">=</span> <a class="sf" href="#steam_get_user_persona_name_sync">steam_get_user_persona_name_sync</a><span class="op">(</span><span class="lv">_from_id</span><span class="op">)</span><span class="op">;</span>
    <span class="kw">var</span> <span class="lv">_text</span> <span class="op">=</span> <a class="sf" href="#steam_lobby_get_chat_message_text">steam_lobby_get_chat_message_text</a><span class="op">(</span><span class="lv">_msg_index</span><span class="op">)</span><span class="op">;</span>
    <span class="sf">show_debug_message</span><span class="op">(</span><span class="st">"A chat message from `"</span> <span class="op">+</span> <span class="lv">_from_name</span> <span class="op">+</span> <span class="st">"`: "</span> <span class="op">+</span> <span class="lv">_text</span><span class="op">)</span><span class="op">;</span>
<span class="cb">}</span>
</pre></article></section><section><header id="p2p_session_request"><a href="#p2p_session_request" title="(permalink)">p2p_session_request</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamNetworking#P2PSessionRequest_t">P2PSessionRequest_t</a>.
		</p><p>
		If you have opted to handle P2P sessions yourself
		(via <a href="#steam_net_set_auto_accept_p2p_sessions">steam_net_set_auto_accept_p2p_sessions</a>),
		you will want to handle this event for anyone to be able to connect to you.
		</p><ul>
			<li> <code>async_load[?"user_id_string"]</code><sup><a href="#steam_async_ids">[id]</a></sup>: ID of user attempting the connection.
		</li></ul><p>
		Example (auto-accept anyone):
		</p><pre class="gmlmd">
<span class="kw">if</span> <span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"event_type"</span><span class="op">]</span> <span class="op">==</span> <span class="st">"lobby_join_requested"</span><span class="op">)</span> <span class="cb">{</span>
    <span class="kw">var</span> <span class="lv">user_id</span> <span class="op">=</span> <a class="sf" href="#steam_id_create">steam_id_create</a><span class="op">(</span>
        <span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"user_id_high"</span><span class="op">]</span><span class="op">,</span>
        <span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"user_id_low"</span><span class="op">]</span>
    <span class="op">)</span><span class="op">;</span>
    <a class="sf" href="#steam_net_accept_p2p_session">steam_net_accept_p2p_session</a><span class="op">(</span><span class="lv">user_id</span><span class="op">)</span><span class="op">;</span>
<span class="cb">}</span>
</pre></article></section><section><header id="avatar_image_loaded"><a href="#avatar_image_loaded" title="(permalink)">avatar_image_loaded</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamFriends#AvatarImageLoaded_t">AvatarImageLoaded_t</a>.
		</p><p>
		Triggers as result of calling <a href="#steam_get_user_avatar">steam_get_user_avatar</a>.
		</p><ul>
			<li> <code>async_load[?"user_id_string"]</code><sup><a href="#steam_async_ids">[id]</a></sup>: ID of the user that avatar was requested for.
			</li><li> <code>async_load[?"image"]</code>: image ID for use with <a href="#steam_avatar">image functions</a>.
			</li><li> <code>async_load[?"width"]</code>: width of the image, in pixels.
			</li><li> <code>async_load[?"height"]</code>: height of the image, in pixels.
		</li></ul></article></section><section><header id="micro_txn_auth_response"><a href="#micro_txn_auth_response" title="(permalink)">micro_txn_auth_response</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamUser#MicroTxnAuthorizationResponse_t">MicroTxnAuthorizationResponse_t</a>.
		</p><ul>
			<li> <code>async_load[?"success"]</code>: whether the transaction was authorized.
			</li><li> <code>async_load[?"order_id_string"]</code><sup><a href="#steam_async_ids">[id]</a></sup>: order ID provided for the microtransaction.
			</li><li> <code>async_load[?"app_id"]</code>: app ID for this microtransaction.
		</li></ul></article></section><section><header id="user_encrypted_app_ticket_response_received"><a href="#user_encrypted_app_ticket_response_received" title="(permalink)">user_encrypted_app_ticket_response_received</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamUser#EncryptedAppTicketResponse_t">EncryptedAppTicketResponse_t</a>.
		</p><p>
		Triggers in response to <a href="#steam_user_request_encrypted_app_ticket">steam_user_request_encrypted_app_ticket</a>.
		</p><ul>
			<li> <code>async_load[?"success"]</code>, <code>async_load[?"result"]</code>
			</li><li> <code>async_load[?"ticket_data"]</code>: base64-encoded binary ticket data.
		</li></ul></article></section><section><header id="ugc_delete_item"><a href="#ugc_delete_item" title="(permalink)">ugc_delete_item</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamUGC#DeleteItemResult_t">DeleteItemResult_t</a>.
		</p><p>
		Triggers in response to <a href="#steam_ugc_delete_item">steam_ugc_delete_item</a>.
		</p><ul>
			<li> <code>async_load[?"success"]</code>, <code>async_load[?"result"]</code>
			</li><li> <code>async_load[?"published_file_id_string"]</code><sup><a href="#steam_async_ids">[id]</a></sup>
		</li></ul></article></section></article></section><section><header id="steam_net"><a href="#steam_net" title="(permalink)">Networking functions</a></header><article><section><header id="steam_net_packet"><a href="#steam_net_packet" title="(permalink)">Packet I/O</a></header><article><section><header id="steam_net_packet_receive"><a href="#steam_net_packet_receive" title="(permalink)">steam_net_packet_receive()</a></header><article><p>
			Attempts to get the next packet from Steam API and returns whether successfully done so.
			</p><p>
			Other <code>steam_net_</code> functions can then be used to get packet information/contents.
			</p><p>
			At most times you would utilize this as following:
			</p><pre class="gmlmd">
<span class="kw">while</span> <span class="op">(</span><a class="sf" href="#steam_net_packet_receive">steam_net_packet_receive</a><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="cb">{</span>
    <span class="co">// process the received packet</span>
<span class="cb">}</span>
</pre><p>
			(every step while in lobby, less frequently otherwise)
		</p></article></section><section><header id="steam_net_packet_get_sender_id"><a href="#steam_net_packet_get_sender_id" title="(permalink)">steam_net_packet_get_sender_id()</a></header><article><p>
			Returns Steam ID of the user that sent the last received packet.
			</p><p>
			Can be used in conjunction with <a href="#steam_net_packet_send">steam_net_packet_send</a> to send something back and for just telling the senders apart.
		</p></article></section><section><header id="steam_net_packet_get_size"><a href="#steam_net_packet_get_size" title="(permalink)">steam_net_packet_get_size()</a></header><article><p>
			Returns the size of last received packet, in bytes.
			</p><p>
			So, for instance, if you wanted to just display the size of each incoming packet, you could use a snippet of code like the following:
			</p><pre class="gmlmd">
<span class="kw">while</span> <span class="op">(</span><a class="sf" href="#steam_net_packet_receive">steam_net_packet_receive</a><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="cb">{</span>
    <span class="sf">show_debug_message</span><span class="op">(</span><span class="st">"Received "</span> <span class="op">+</span> <span class="sf">string</span><span class="op">(</span><span class="uf">steam_net_packet_size</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="st">" bytes."</span><span class="op">)</span><span class="op">;</span>
<span class="cb">}</span>
</pre></article></section><section><header id="steam_net_packet_get_data"><a href="#steam_net_packet_get_data" title="(permalink)">steam_net_packet_get_data(buffer)</a></header><article><p>
			Copies the contents of last received packet to the given buffer.
			</p><p>
			Data is copied to the start of the buffer (position remains unaffected),
			meaning that if you reuse the same buffer, you should "rewind" it prior to reading.
			</p><p>
			If the buffer is not big enough to fit data, it will be resized automatically.
			</p><pre class="gmlmd">
<span class="kw">while</span> <span class="op">(</span><a class="sf" href="#steam_net_packet_receive">steam_net_packet_receive</a><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="cb">{</span>
    <a class="sf" href="#steam_net_packet_get_data">steam_net_packet_get_data</a><span class="op">(</span><span class="uv">inbuf</span><span class="op">)</span><span class="op">;</span>
    <span class="sf">buffer_seek</span><span class="op">(</span><span class="uv">inbuf</span><span class="op">,</span> <span class="sv">buffer_seek_start</span><span class="op">,</span> <span class="nu">0</span><span class="op">)</span><span class="op">;</span>
    <span class="kw">switch</span> <span class="op">(</span><span class="sf">buffer_read</span><span class="op">(</span><span class="uv">inbuf</span><span class="op">,</span> <span class="sv">buffer_u8</span><span class="op">)</span><span class="op">)</span> <span class="cb">{</span>
        <span class="kw">case</span> <span class="nu">1</span><span class="op">:</span> <span class="sf">show_debug_message</span><span class="op">(</span><span class="st">"packet ID 1"</span><span class="op">)</span><span class="op">;</span> <span class="kw">break</span><span class="op">;</span>
        <span class="kw">case</span> <span class="nu">2</span><span class="op">:</span> <span class="sf">show_debug_message</span><span class="op">(</span><span class="st">"packet ID 2"</span><span class="op">)</span><span class="op">;</span> <span class="kw">break</span><span class="op">;</span>
        <span class="kw">default</span><span class="op">:</span> <span class="sf">show_debug_message</span><span class="op">(</span><span class="st">"unknown packet"</span><span class="op">)</span><span class="op">;</span> <span class="kw">break</span><span class="op">;</span>
    <span class="cb">}</span>
<span class="cb">}</span>
</pre><p>
			Whether <code>inbuf</code> is a "fixed" or "growing" buffer created on game start for the controller object.
		</p></article></section><section><header id="steam_net_packet_send"><a href="#steam_net_packet_send" title="(permalink)">steam_net_packet_send(steam_id, buffer, size, type)</a></header><article><p>
			Sends a packet to the given endpoint, returns whether successful (as opposed to incorrect arguments/invalid ID).
			</p><p>
			Much as with the built-in <code>network_send_</code> functions, this function takes data from the start of the buffer and until the point identified by <code>size</code> parameter.
			</p><p>
			<code>type</code> parameter can be one of the following:
			</p><ul>
			<li>	<code>steam_net_packet_type_unreliable</code>: roughly equivalent to UDP. May or may not be delivered, will not be resent automatically.
			</li><li>	<code>steam_net_packet_type_unreliable_nodelay</code>: much like the regular "unreliable" type, but always sent instantly (as soon as function is called). Intended for things like streaming voice data, where you want lowest latency possible and only care about the current data.
			</li><li>	<code>steam_net_packet_type_reliable</code>: roughly equivalent to TCP. Warranted to be delivered in order and intact.
			</li><li>	<code>steam_net_packet_type_reliable_buffer</code>: much like the regular "reliable" type, but utilizes <a href="https://en.wikipedia.org/wiki/Nagle%27s_algorithm">Nagle's algorithm</a> to reduce the number of packets at cost of potential delay while the data accumulates until the sending threshold.
			</li></ul><p>
			So you could use it like so:
			</p><pre class="gmlmd">
<span class="kw">var</span> <span class="lv">b</span> <span class="op">=</span> <span class="sf">buffer_create</span><span class="op">(</span><span class="nu">16</span><span class="op">,</span> <span class="sv">buffer_grow</span><span class="op">,</span> <span class="nu">1</span><span class="op">)</span><span class="op">;</span>
<span class="sf">buffer_write</span><span class="op">(</span><span class="lv">b</span><span class="op">,</span> <span class="sv">buffer_string</span><span class="op">,</span> <span class="st">"Hello!"</span><span class="op">)</span><span class="op">;</span>
<a class="sf" href="#steam_net_packet_send">steam_net_packet_send</a><span class="op">(</span><a class="sv" href="#steam_id">steam_id</a><span class="op">,</span> <span class="lv">b</span><span class="op">,</span> <span class="sf">buffer_tell</span><span class="op">(</span><span class="lv">b</span><span class="op">)</span><span class="op">,</span> <span class="uv">steam_net_packet_type_reliable</span><span class="op">)</span><span class="op">;</span>
<span class="sf">buffer_delete</span><span class="op">(</span><span class="lv">b</span><span class="op">)</span><span class="op">;</span>
</pre><p>
			Where <code>steam_id</code> would hold the user ID to send the packet to.
		</p></article></section></article></section><section><header id="steam_net_p2p"><a href="#steam_net_p2p" title="(permalink)">P2P sessions</a></header><article><section><header id="steam_net_set_auto_accept_p2p_sessions"><a href="#steam_net_set_auto_accept_p2p_sessions" title="(permalink)">steam_net_set_auto_accept_p2p_sessions(enable)</a></header><article><p>
			Sets whether to auto-accept session requests coming from players in the same lobby.
			</p><p>
			This is enabled by default for convenience.
			</p><p>
			If you disable it, you will need to handle <a href="#p2p_session_request">p2p_session_request</a> async event.
		</p></article></section><section><header id="steam_net_accept_p2p_session"><a href="#steam_net_accept_p2p_session" title="(permalink)">steam_net_accept_p2p_session(user_id)</a></header><article><p>
			Accepts a P2P session request from the specified user.
			</p><p>
			Returns whether successful.
		</p></article></section><section><header id="steam_net_close_p2p_session"><a href="#steam_net_close_p2p_session" title="(permalink)">steam_net_close_p2p_session(user_id)</a></header><article><p>
			Closes a P2P session with the specified user.
			</p><p>
			Steam will automatically close sessions after a period of inactivity,
			but you could also do it manually if you so desired.
			</p><p>
			Returns whether successful.
		</p></article></section></article></section></article></section><section><header id="steam_lobby"><a href="#steam_lobby" title="(permalink)">Lobby functions</a></header><article><p>
	The following functions deal with the current lobby.
	
	</p><section><header id="steam_lobby_join_id"><a href="#steam_lobby_join_id" title="(permalink)">steam_lobby_join_id(lobby_id)</a></header><article><p>
		Starts joining a lobby with the given ID.
		</p><p>
		The operation is carried out asynchronously;
		</p><p>
		A <a href="#lobby_joined">lobby_joined</a> event is dispatched on completion.
		</p><p>
		See <a href="#lobby_join_requested">lobby_join_requested</a> for a code example.
	</p></article></section><section><header id="steam_lobby_create"><a href="#steam_lobby_create" title="(permalink)">steam_lobby_create(type, max_members)</a></header><article><p>
		Starts creating a lobby.
		</p><p>
		The operation is carried out asynchronously;
		</p><p>
		A <a href="#lobby_created">lobby_created</a> event is dispatched on completion.
		</p><p>
		<code>max_members</code> indicates the maximum allowed number of users in the lobby
		(including the lobby's creator).
		</p><p>
		<code>type</code> can be one of the following:
		</p><ul>
		<li><p>	<code>steam_lobby_type_private</code>: Can only be joined by invitation.
			</p><p>
			You would usually <a href="#steam_lobby_set_type">change</a> the lobby type to this on match start.
		</p></li><li>	<code>steam_lobby_type_friends_only</code>: Can be joined by invitation or via friends-list
		(by opening the user's menu and picking "Join game").
		</li><li>	<code>steam_lobby_type_public</code>: Can be joined by invitation, via friends-list,
		and shows up in the public lobby list (see <a href="#steam_lobby_list">matchmaking</a> functions).
		</li></ul><p>
		Can be used as following:
		</p><pre class="gmlmd">
<a class="sf" href="#steam_lobby_create">steam_lobby_create</a><span class="op">(</span><span class="uv">steam_lobby_type_public</span><span class="op">,</span> <span class="nu">4</span><span class="op">)</span><span class="op">;</span>
</pre><p>
		(which would create a 4-player public lobby)
	</p></article></section><section><header id="steam_lobby_leave"><a href="#steam_lobby_leave" title="(permalink)">steam_lobby_leave()</a></header><article><p>
		Leaves the current lobby (if any).
		</p><p>
		Does not raise any errors if currently not in a lobby.
		</p><p>
		Note that if you are the lobby owner and leave the lobby, Steam transfers lobby ownership to any other available user, so you may need to detect lobby owner changes if any particular logic is handled by them.
	</p></article></section><hr/><section><header id="steam_lobby_set_type"><a href="#steam_lobby_set_type" title="(permalink)">steam_lobby_set_type(newtype)</a></header><article><p>
		Changes the lobby's type. You must be the lobby's owner to do this.
		</p><p>
		Types are the same as per <a href="#steam_lobby_create">steam_lobby_create</a>.
		</p><p>
		So, for example, if you don't allow mid-session joining, you could have the game make lobbies private on session start:
		</p><pre class="gmlmd">
<a class="sf" href="#steam_lobby_set_type">steam_lobby_set_type</a><span class="op">(</span><span class="uv">steam_lobby_type_private</span><span class="op">)</span><span class="op">;</span>
</pre></article></section><hr/><section><header id="steam_lobby_get_data"><a href="#steam_lobby_get_data" title="(permalink)">steam_lobby_get_data(key:string)&#8203;<span class="ret-arrow">&#10140;</span>string</a></header><article><p>
		Returns a lobby field value, as set by <a href="#steam_lobby_set_data">steam_lobby_set_data</a>.
		</p><pre class="gmlmd">
<span class="kw">var</span> <span class="lv">title</span> <span class="op">=</span> <a class="sf" href="#steam_lobby_get_data">steam_lobby_get_data</a><span class="op">(</span><span class="st">"title"</span><span class="op">)</span><span class="op">;</span>
</pre></article></section><section><header id="steam_lobby_set_data"><a href="#steam_lobby_set_data" title="(permalink)">steam_lobby_set_data(key:string, value:string)</a></header><article><p>
		Changes a lobby's field. You must be the lobby's owner to do this.
		</p><p>
		Fields can then be used to filter lobbies via <a href="#steam_lobby_list">matchmaking</a> functions.
		</p><p>
		<b>Note</b>: if your value is numeric, convert it to string prior to passing it to the function.
		</p><p>
		Otherwise GM will assume your numeric value to be a pointer to a string, which can hard crash your game and/or Steam client.
	</p></article></section><hr/><section><header id="steam_lobby_is_owner"><a href="#steam_lobby_is_owner" title="(permalink)">steam_lobby_is_owner()&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
		Returns whether the local player is the lobby's owner.
		</p><p>
		If the lobby is not valid, returns false.
	</p></article></section><section><header id="steam_lobby_get_owner_id"><a href="#steam_lobby_get_owner_id" title="(permalink)">steam_lobby_get_owner_id()&#8203;<span class="ret-arrow">&#10140;</span>user_id</a></header><article><p>
		Returns the lobby's owner's Steam ID.
		</p><p>
		If the lobby is not valid, returns ID 0.
	</p></article></section><section><header id="steam_lobby_set_owner_id"><a href="#steam_lobby_set_owner_id" title="(permalink)">steam_lobby_set_owner_id(user_id)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
		If you are the lobby owner, transfers the lobby ownership to the specified player,
		which must be in this same lobby.
		</p><p>
		Returns whether successful.
		</p><p>
		See remarks in <a href="https://partner.steamgames.com/doc/api/ISteamMatchmaking#SetLobbyOwner">SetLobbyOwner</a>
	</p></article></section><section><header id="steam_lobby_set_joinable"><a href="#steam_lobby_set_joinable" title="(permalink)">steam_lobby_set_joinable(joinable)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamMatchmaking#SetLobbyJoinable">SetLobbyJoinable</a>.
		</p><p>
		If you are the lobby owner, changes whether the lobby can be joined - be it from lobby list or by invites.
	</p></article></section><hr/><section><header id="steam_lobby_get_member_count"><a href="#steam_lobby_get_member_count" title="(permalink)">steam_lobby_get_member_count()&#8203;<span class="ret-arrow">&#10140;</span>int</a></header><article><p>
		Returns the number of users in the current lobby (including you).
		</p><p>
		If the lobby is not valid, returns 0.
	</p></article></section><section><header id="steam_lobby_get_member_id"><a href="#steam_lobby_get_member_id" title="(permalink)">steam_lobby_get_member_id(index)&#8203;<span class="ret-arrow">&#10140;</span>user_id</a></header><article><p>
		Returns the user ID of the member at the given index in the current lobby.
		</p><p>
		Index should be between 0 (incl.) and result of <a href="#steam_lobby_get_member_count">steam_lobby_get_member_count</a> (excl.). Results will include the local user.
		</p><p>
		If the index (or lobby) is not valid, returns ID 0.
	</p></article></section><hr/><section><header id="steam_lobby_get_lobby_id"><a href="#steam_lobby_get_lobby_id" title="(permalink)">steam_lobby_get_lobby_id()&#8203;<span class="ret-arrow">&#10140;</span>lobby_id</a></header><article><p>
		Returns the Steam ID of the current lobby.
	</p></article></section><section><header id="steam_lobby_activate_invite_overlay"><a href="#steam_lobby_activate_invite_overlay" title="(permalink)">steam_lobby_activate_invite_overlay()</a></header><article><p>
		Displays an invitation overlay if currently in a lobby.
		</p><p>
		The invitation overlay is much akin to friends-list overlay, but only shows online friends, and spots "invite" buttons on each row.
	</p></article></section><hr/><section><header id="steam_lobby_chat"><a href="#steam_lobby_chat" title="(permalink)">Lobby chat</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamMatchmaking#SendLobbyChatMsg">SendLobbyChatMsg</a>.
		</p><p>
		These few functions allow you to send and receive chat messages without
		establishing a P2P connection!
		</p><p>
		This comes with some caveats: </p><ul>
		<li>	A single message can only be 4KB at most.
		</li><li>	Bandwidth is limited (documentation doesn't clarify the limits).
		</li><li>	As this sends data via Steam backend, it'll take longer for it to arrive.
		</li><li>	Messages are broadcasted to all players in the lobby rather than to the recipient.
		</li></ul><p>
		Still, this can be handy for any initial communication.
		</p><section><header id="steam_lobby_max_chat_message_size"><a href="#steam_lobby_max_chat_message_size" title="(permalink)">steam_lobby_max_chat_message_size</a></header><article><p>
			Indicates the maximum number of bytes a single lobby message can be (<code>4096</code>).
		</p></article></section><hr/><section><header id="steam_lobby_send_chat_message"><a href="#steam_lobby_send_chat_message" title="(permalink)">steam_lobby_send_chat_message(text)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
			Broadcasts a chat message into the current lobby,
			returns whether successful.
			</p><p>
			Triggers <a href="#lobby_chat_message">lobby_chat_message</a>.
			</p><p>
			Example: the following would send a message upon joining a lobby and handle the said message:
			</p><pre class="gmlmd">
<span class="co">// in Async - Steam</span>
<span class="kw">if</span> <span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"event_type"</span><span class="op">]</span> <span class="op">==</span> <span class="st">"lobby_joined"</span><span class="op">)</span> <span class="cb">{</span>
    <a class="sf" href="#steam_lobby_send_chat_message">steam_lobby_send_chat_message</a><span class="op">(</span><span class="st">"hello!"</span><span class="op">)</span><span class="op">;</span>
<span class="cb">}</span>
<span class="kw">if</span> <span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"event_type"</span><span class="op">]</span> <span class="op">==</span> <span class="st">"lobby_chat_message"</span><span class="op">)</span> <span class="cb">{</span>
    <span class="kw">var</span> <span class="lv">_msg_index</span> <span class="op">=</span> <span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"message_index"</span><span class="op">]</span><span class="op">;</span>
    <span class="kw">var</span> <span class="lv">_from_id</span> <span class="op">=</span> <span class="sf">int64</span><span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"user_id_string"</span><span class="op">]</span><span class="op">)</span><span class="op">;</span>
    <span class="kw">var</span> <span class="lv">_from_name</span> <span class="op">=</span> <a class="sf" href="#steam_get_user_persona_name_sync">steam_get_user_persona_name_sync</a><span class="op">(</span><span class="lv">_from_id</span><span class="op">)</span><span class="op">;</span>
    
    <span class="sf">show_debug_message</span><span class="op">(</span><span class="st">"A chat message from `"</span> <span class="op">+</span> <span class="lv">_from_name</span>
        <span class="op">+</span> <span class="st">"` (text): "</span> <span class="op">+</span> <a class="sf" href="#steam_lobby_get_chat_message_text">steam_lobby_get_chat_message_text</a><span class="op">(</span><span class="lv">_msg_index</span><span class="op">)</span><span class="op">)</span><span class="op">;</span>
<span class="cb">}</span>
</pre></article></section><section><header id="steam_lobby_send_chat_message_buffer"><a href="#steam_lobby_send_chat_message_buffer" title="(permalink)">steam_lobby_send_chat_message_buffer(buffer, ?size)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
			Akin to above, but sends binary data instead.
		</p></article></section><p>
		The following can only be ran inside an Async - Steam event to work with lobby messages,
		so make sure to copy the results if you'll need them later!
		</p><section><header id="steam_lobby_get_chat_message_size"><a href="#steam_lobby_get_chat_message_size" title="(permalink)">steam_lobby_get_chat_message_size(message_index)&#8203;<span class="ret-arrow">&#10140;</span>int</a></header><article><p>
			Returns the size of the given lobby message in bytes.
			</p><p>
			Returns <code>-1</code> if the message index is invalid.
		</p></article></section><section><header id="steam_lobby_get_chat_message_text"><a href="#steam_lobby_get_chat_message_text" title="(permalink)">steam_lobby_get_chat_message_text(message_index)&#8203;<span class="ret-arrow">&#10140;</span>string</a></header><article><p>
			Grabs the content of a lobby message as a string.
			</p><p>
			Returns <code>""</code> if the message index is invalid.
			</p><p>
			If the message was binary, this would result in garbled data up until the first <code>00</code> byte
			or until the end of the message.
		</p></article></section><section><header id="steam_lobby_get_chat_message_data"><a href="#steam_lobby_get_chat_message_data" title="(permalink)">steam_lobby_get_chat_message_data(message_index, buffer)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
			Copies the content of a lobby message into a buffer.
			</p><p>
			The buffer should be at least <a href="#steam_lobby_max_chat_message_size">steam_lobby_max_chat_message_size</a> bytes long,
			or the message will be truncated.
			</p><p>
			Returns whether the message index was valid.
		</p></article></section></article></section></article></section><section><header id="steam_lobby_list"><a href="#steam_lobby_list" title="(permalink)">Matchmaking functions</a></header><article><p>
	The following functions allow retrieving lists of public lobbies.
	</p><section><header id="steam_lobby_list_request"><a href="#steam_lobby_list_request" title="(permalink)">steam_lobby_list_request()</a></header><article><p>
		Starts loading the list of lobbies matching the current filters.
		</p><p>
		Filters are reset afterwards and have to be set again for subsequent request(s).
		</p><p>
		Existing results are kept up until the event is dispatched.
		</p><p>
		The operation is carried out asynchronously;
		</p><p>
		A <a href="#lobby_list">lobby_list</a> event is dispatched on completion.
	</p></article></section><section><header id="steam_lobby_list_is_loading"><a href="#steam_lobby_list_is_loading" title="(permalink)">steam_lobby_list_is_loading()</a></header><article><p>
		Returns whether a lobby list request is currently underway.
		</p><p>
		Is a convenience function - you may as well set a global variable prior to calling <a href="#steam_lobby_list_request">steam_lobby_list_request</a> and reset in the <a href="#lobby_list">lobby_list</a> event.
	</p></article></section><section><header id="steam_lobby_list_get"><a href="#steam_lobby_list_get" title="(permalink)">Lobby list functions</a></header><article><p>
		These can be used after receiving a <a href="#lobby_list">lobby_list</a> async event.
		</p><section><header id="steam_lobby_list_get_count"><a href="#steam_lobby_list_get_count" title="(permalink)">steam_lobby_list_get_count()</a></header><article><p>
			Returns the number of lobbies received in the last lobby list request.
			</p><p>
			For subsequent functions in this section,
			<code>list_index</code> should be between 0 (incl.) and the number returned by this function (excl.)
		</p></article></section><hr/><section><header id="steam_lobby_list_join"><a href="#steam_lobby_list_join" title="(permalink)">steam_lobby_list_join(list_index)</a></header><article><p>
			Starts joining the lobby at the given index in the list.
			</p><p>
			See <a href="#steam_lobby_join_id">steam_lobby_join_id</a> for more information on the process.
		</p></article></section><hr/><section><header id="steam_lobby_list_get_data"><a href="#steam_lobby_list_get_data" title="(permalink)">steam_lobby_list_get_data(list_index, key:string)&#8203;<span class="ret-arrow">&#10140;</span>string</a></header><article><p>
			Returns the value of the given field of a lobby at the given index in the current list.
			</p><p>
			Fields can be set via <a href="#steam_lobby_set_data">steam_lobby_set_data</a>.
			</p><p>
			<b>NB!</b> Value is always returned as a string.
			</p><p>
			Returns <code>""</code> if the lobby does not have the given field set.
		</p></article></section><section><header id="steam_lobby_list_get_lobby_id"><a href="#steam_lobby_list_get_lobby_id" title="(permalink)">steam_lobby_list_get_lobby_id(list_index)&#8203;<span class="ret-arrow">&#10140;</span>lobby_id</a></header><article><p>
			Returns the Steam ID of the lobby at the given index in the list.
			</p><p>
			Returns <code>0</code> if the index is out of bounds.
		</p></article></section><section><header id="steam_lobby_list_get_lobby_owner_id"><a href="#steam_lobby_list_get_lobby_owner_id" title="(permalink)">steam_lobby_list_get_lobby_owner_id(list_index)&#8203;<span class="ret-arrow">&#10140;</span>user_id</a></header><article><p>
			Returns the Steam ID of the owner of the lobby at the given index in the list.
			</p><p>
			Returns <code>0</code> if the index is out of bounds.
		</p></article></section><section><header id="steam_lobby_list_get_lobby_member_count"><a href="#steam_lobby_list_get_lobby_member_count" title="(permalink)">steam_lobby_list_get_lobby_member_count(list_index)&#8203;<span class="ret-arrow">&#10140;</span>int</a></header><article><p>
			Returns the number of users in the lobby at the given index in the list.
			</p><p>
			Returns <code>0</code> if the index is out of bounds.
		</p></article></section></article></section><p>
	Requesting:
	</p><section><header id="steam_lobby_list_add_string_filter"><a href="#steam_lobby_list_add_string_filter" title="(permalink)">steam_lobby_list_add_string_filter(key, value, comparison_type)</a></header><article><p>
		Sets up a string filter for the next lobby list request.
		</p><p>
		That is, lobbies not matching the condition will be excluded from results.
		</p><p>
		Lobbies without the given field (<code>key</code>) will be assumed to have it as "".
		</p><p>
		The following values can be passed as <code>comparison_type</code>:
		</p><ul>
		<li>	<code>steam_lobby_list_filter_eq</code>: Equal (<code>==</code>).
		</li><li>	<code>steam_lobby_list_filter_ne</code>: Not-equal (<code>!=</code>).
		</li></ul></article></section><section><header id="steam_lobby_list_add_numerical_filter"><a href="#steam_lobby_list_add_numerical_filter" title="(permalink)">steam_lobby_list_add_numerical_filter(key, value, comparison_type)</a></header><article><p>
		Sets up a numeric filter for the next lobby list request.
		</p><p>
		That is, lobbies not matching the condition will be excluded from results.
		</p><p>
		Lobbies without the given field (<code>key</code>) will be excluded.
		</p><p>
		The following values can be passed as <code>comparison_type</code>:
		</p><ul>
		<li>	<code>steam_lobby_list_filter_eq</code>: Equal (<code>==</code>).
		</li><li>	<code>steam_lobby_list_filter_ne</code>: Not-equal (<code>!=</code>).
		</li><li>	<code>steam_lobby_list_filter_lt</code>: Less-than (<code>&lt;</code>).
		</li><li>	<code>steam_lobby_list_filter_gt</code>: Greater-than (<code>&gt;</code>).
		</li><li>	<code>steam_lobby_list_filter_le</code>: Less-than-or-equal (<code>&lt;=</code>).
		</li><li>	<code>steam_lobby_list_filter_ge</code>: Greater-than-or-equal (<code>&gt;=</code>).
		</li></ul></article></section><section><header id="steam_lobby_list_add_near_filter"><a href="#steam_lobby_list_add_near_filter" title="(permalink)">steam_lobby_list_add_near_filter(key, value:number)</a></header><article><p>
		Sorts the results based on how close their field's (<code>key</code>)'s value is to the provided one.
		</p><p>
		If multiple near-filters are specified, the earlier-set ones take precedence.
	</p></article></section><section><header id="steam_lobby_list_add_distance_filter"><a href="#steam_lobby_list_add_distance_filter" title="(permalink)">steam_lobby_list_add_distance_filter(mode)</a></header><article><p>
		Restricts results by region and sorts them based on geographical proximity.
		</p><p>
		The following values can be passed as <code>mode</code>:
		</p><ul>
		<li>	<code>steam_lobby_list_distance_filter_close</code>: Only allows lobbies in same immediate region.
		</li><li>	<code>steam_lobby_list_distance_filter_default</code>: Allows lobbies in same or nearby regions (same continent)
		</li><li>	<code>steam_lobby_list_distance_filter_far</code>: Allows lobbies from up to half-way around the globe (nearby continents).
		</li><li>	<code>steam_lobby_list_distance_filter_worldwide</code>: Allows any lobbies. May result in very high latencies, so use with care.
		</li></ul></article></section></article></section><section><header id="steam_controller_"><a href="#steam_controller_" title="(permalink)">Steam Controller/Input functions</a></header><article><p>
	These have been since renamed to Steam Input in SDK documentation to avoid confusion with Steam Controller device.
	</p><section><header id="steam_controller_general"><a href="#steam_controller_general" title="(permalink)">General</a></header><article><section><header id="steam_controller_init"><a href="#steam_controller_init" title="(permalink)">steam_controller_init()&#8203;<span class="ret-arrow">&#10140;</span>success</a></header><article><p>
			Should be called on game start if you intend to use Steam Controller API.
			</p><p>
			Returns whether successful.
		</p></article></section><section><header id="steam_controller_update"><a href="#steam_controller_update" title="(permalink)">steam_controller_update()</a></header><article><p>
			Is automatically called by <a href="#steam_gml_update">steam_gml_update</a>,
			but can also be called manually to poll data more often.
		</p></article></section></article></section><section><header id="steam_controller_controller"><a href="#steam_controller_controller" title="(permalink)">Controller functions</a></header><article><section><header id="steam_controller_get_ids"><a href="#steam_controller_get_ids" title="(permalink)">steam_controller_get_ids()&#8203;<span class="ret-arrow">&#10140;</span>array&lt;controller_id&gt;</a></header><article><p>
			Returns an array of IDs for the connected Steam Controllers.
			</p><p>
			Such IDs are used for the rest of the functions.
			</p><p>
			<b>Note:</b> You can also use <code>all</code> (<code>-3</code>) in most controller functions to apply to any/all
			of the connected controllers.
		</p></article></section><section><header id="steam_controller_get_ids"><a href="#steam_controller_get_ids" title="(permalink)">steam_controller_get_ids(arr)&#8203;<span class="ret-arrow">&#10140;</span>count</a></header><article><p>
			The above function can also be called with an existing array as an argument,
			in which case it will store the IDs in the provided array and return how many it 
			had filled out.
		</p></article></section><section><header id="steam_controller_get_type"><a href="#steam_controller_get_type" title="(permalink)">steam_controller_get_type(controller_id)</a></header><article><p>
			Returns Steam-reported type for the given controller.
			</p><p>
			Values can be: </p><ul>
			<li> <code>steam_controller_unknown</code>
			</li><li> <code>steam_controller_steam_controller</code>
			</li><li> <code>steam_controller_xbox360</code>
			</li><li> <code>steam_controller_xboxone</code>
			</li><li> <code>steam_controller_generic_xinput</code>
			</li><li> <code>steam_controller_ps4</code>
			</li><li> <code>steam_controller_apple_mfi</code>
			</li><li> <code>steam_controller_android</code>
			</li><li> <code>steam_controller_switch_joycon_pair</code>
			</li><li> <code>steam_controller_switch_joycon_single</code>
			</li><li> <code>steam_controller_switch_pro</code>
			</li><li> <code>steam_controller_mobile_touch</code>
			</li><li> <code>steam_controller_ps3</code>
			</li></ul><p>
			Note that GMS1 / Steamworks1.35a does not support getting controller types and will always return <code>steam_controller_unknown</code>.
		</p></article></section><section><header id="steam_controller_get_max_count"><a href="#steam_controller_get_max_count" title="(permalink)">steam_controller_get_max_count()&#8203;<span class="ret-arrow">&#10140;</span>int</a></header><article><p>
			Returns how many Steam Input devices can be detected at most.
			</p><p>
			This is constant per SDK version;
			</p><p>
			As of writing this in 2021, this is 16.
		</p></article></section></article></section><section><header id="steam_controller_actionset"><a href="#steam_controller_actionset" title="(permalink)">Action sets</a></header><article><p>
		See <a href="https://partner.steamgames.com/doc/features/steam_controller/action_set_layers">documentation</a>;
		</p><section><header id="steam_controller_get_actionset_id"><a href="#steam_controller_get_actionset_id" title="(permalink)">steam_controller_get_actionset_id(actionset_name)&#8203;<span class="ret-arrow">&#10140;</span>actionset_id</a></header><article><p>
			Finds an action set ID with given name.
			</p><p>
			Returns a negative number if such an action set does not exist!
		</p></article></section><section><header id="steam_controller_set_actionset"><a href="#steam_controller_set_actionset" title="(permalink)">steam_controller_set_actionset(controller_id, actionset_id)&#8203;<span class="ret-arrow">&#10140;</span>success</a></header><article><p>
			Activates an action set.
			</p><p>
			<b>Note:</b> As of GMS2.3, GameMaker uses Steamworks 1.42, which is not new enough to support action set layers.
			</p><p>
			<code>actionset_id</code> comes from <a href="#steam_controller_get_actionset_id">steam_controller_get_actionset_id</a>.
			</p><p>
			See <a href="https://partner.steamgames.com/doc/api/ISteamInput#ActivateActionSetLayer">ActivateActionSetLayer</a>.
		</p></article></section><section><header id="steam_controller_get_actionset"><a href="#steam_controller_get_actionset" title="(permalink)">steam_controller_get_actionset(controller_id)&#8203;<span class="ret-arrow">&#10140;</span>actionset_id</a></header><article><p>
			Returns the current action set id for a controller, or -1 if it fails (e.g. wrong controller ID).
		</p></article></section></article></section><section><header id="steam_controller_ingame"><a href="#steam_controller_ingame" title="(permalink)">In-game actions</a></header><article><p>
		See <a href="https://partner.steamgames.com/doc/features/steam_controller/iga_file">documentation</a>;
		</p><p>
		Digital actions:
		</p><section><header id="steam_controller_get_digital_id"><a href="#steam_controller_get_digital_id" title="(permalink)">steam_controller_get_digital_id(action_name)&#8203;<span class="ret-arrow">&#10140;</span>digital_id</a></header><article><p>
			Finds a Digital Action ID by its name.
			</p><p>
			Returns a <code>&gt;=0</code> action ID on success, or a negative value on failure.
		</p></article></section><section><header id="steam_controller_get_digital_value"><a href="#steam_controller_get_digital_value" title="(permalink)">steam_controller_get_digital_value(controller_id, digital_id)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
			Retrieves the current state of a digital action for a controller.
			</p><p>
			Returns <code>false</code> if controller is missing or action ID is invalid.
		</p></article></section><section><header id="steam_controller_get_digital_status"><a href="#steam_controller_get_digital_status" title="(permalink)">steam_controller_get_digital_status(controller_id, digital_id)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
			Returns whether the given digital action is currently active.
			</p><p>
			Similarly, returns <code>false</code> if controller is missing or action ID is invalid.
		</p></article></section><section><header id="steam_controller_get_digital_origins"><a href="#steam_controller_get_digital_origins" title="(permalink)">steam_controller_get_digital_origins(controller_id, actionset_id, digital_id, ?out:array&lt;origin&gt;)&#8203;<span class="ret-arrow">&#10140;</span>array&lt;origin&gt;</a></header><article><p>
			Fetches the origins for the specified digital action of an action set for a controller.
			</p><p>
			The result is an array of origin IDs (see values <a href="https://partner.steamgames.com/doc/api/ISteamInput#EInputActionOrigin">here</a>) that can then be used to display the correct input prompt.
			</p><p>
			See <a href="https://partner.steamgames.com/doc/api/ISteamInput#GetDigitalActionOrigins">GetDigitalActionOrigins</a>
		</p></article></section><p>
		Analog actions:
		</p><section><header id="steam_controller_get_analog_id"><a href="#steam_controller_get_analog_id" title="(permalink)">steam_controller_get_analog_id(action_name)&#8203;<span class="ret-arrow">&#10140;</span>analog_id</a></header><article><p>
			Find an Analog Action ID by its name.
			</p><p>
			Returns a <code>&gt;=0</code> action ID on success, or a negative value on failure.
			</p><p>
			<b>NB!</b> Digital and analog action names and IDs can overlap. Don't mix them up!
		</p></article></section><section><header id="steam_controller_get_analog_status"><a href="#steam_controller_get_analog_status" title="(permalink)">steam_controller_get_analog_status(controller_id, analog_id)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
			Returns whether the given analog action is currently active.
			</p><p>
			Returns <code>false</code> if controller is missing or action ID is invalid.
		</p></article></section><section><header id="steam_controller_get_analog_mode"><a href="#steam_controller_get_analog_mode" title="(permalink)">steam_controller_get_analog_mode(controller_id, analog_id)&#8203;<span class="ret-arrow">&#10140;</span>mode_id</a></header><article><p>
			Returns the virtual input mode used by an analog action.
			</p><p>
			See the returned values <a href="https://partner.steamgames.com/doc/api/ISteamInput#EControllerSourceMode">here</a>.
			</p><p>
			Returns <code>-1</code> if controller is missing or action ID is invalid.
		</p></article></section><section><header id="steam_controller_get_analog_x"><a href="#steam_controller_get_analog_x" title="(permalink)">steam_controller_get_analog_x(controller_id, analog_id)&#8203;<span class="ret-arrow">&#10140;</span>number</a></header><article><p>
			Returns the state of an action's horizontal axis.
			</p><p>
			As per <a href="https://partner.steamgames.com/doc/api/ISteamInput#InputAnalogActionData_t">documentation</a>,
			values depend on configuration - e.g. traditional actions return normalized values in -1..+1 range
			while mouse-like actions provide updates in pixels since the last frame.
			</p><p>
			Returns <code>0</code> if controller is missing or action ID is invalid.
		</p></article></section><section><header id="steam_controller_get_analog_y"><a href="#steam_controller_get_analog_y" title="(permalink)">steam_controller_get_analog_y(controller_id, analog_id)&#8203;<span class="ret-arrow">&#10140;</span>number</a></header><article><p>
			Same as above, but for vertical axis.
			</p><p>
			Returns <code>0</code> if controller is missing or action ID is invalid.
		</p></article></section><section><header>steam_controller_get_analog_origins(controller_id, actionset_id, analog_id, ?out:array&lt;origin&gt;)&#8203;<span class="ret-arrow">&#10140;</span>array&lt;origin&gt;</header><article><p>
			Fetches the origins for the specified analog action of an action set for a controller.
			</p><p>
			The result is an array of origin IDs (see values <a href="https://partner.steamgames.com/doc/api/ISteamInput#EInputActionOrigin">here</a>) that can then be used to display the correct input prompt.
			</p><p>
			See <a href="https://partner.steamgames.com/doc/api/ISteamInput#GetAnalogActionOrigins">GetAnalogActionOrigins</a>
		</p></article></section><p>
		Misc.:
		</p><section><header id="steam_controller_get_max_origins"><a href="#steam_controller_get_max_origins" title="(permalink)">steam_controller_get_max_origins()&#8203;<span class="ret-arrow">&#10140;</span>int</a></header><article><p>
			Returns the maximum number of input origins that can be attached to a single action.
			</p><p>
			This value is constant per SDK version and is set to 8 as of writing this in 2021.
		</p></article></section></article></section></article></section><section><header id="steam_user"><a href="#steam_user" title="(permalink)">User/friend functions</a></header><article><section><header id="steam_get_user_persona_name_sync"><a href="#steam_get_user_persona_name_sync" title="(permalink)">steam_get_user_persona_name_sync(user_id)</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamFriends#GetFriendPersonaName">GetFriendPersonaName</a>.
		Like the built-in <code>steam_get_user_persona_name</code>, but returns immediately.
		</p><p>
		This function will only return names for users that are "known" (e.g. in your lobby).
	</p></article></section><section><header id="steam_user_set_played_with"><a href="#steam_user_set_played_with" title="(permalink)">steam_user_set_played_with(user_id)</a></header><article><p>
		Adds the given user to the "recently played with" list (accessed via "Players" - "Recent games") menu in Steam overlay.
		</p><p>
		This is usually something to do on session start for all remote users.
	</p></article></section><section><header id="steam_get_friends_game_info"><a href="#steam_get_friends_game_info" title="(permalink)">steam_get_friends_game_info()&#8203;<span class="ret-arrow">&#10140;</span>array</a></header><article><p>
		Returns an array of information about what the current user's Steam friends are playing,
		roughly equivalent to what can be seen in Steam Friends UI.
		</p><p>
		The array contains nested 3-element arrays with the following fields: </p><ul>
		<li>	Steam User ID
		</li><li>	Steam Game ID
		</li><li>	Steam Lobby ID<br/>
			(if hosting a lobby that is open for friends to join - otherwise <code>0</code>)
		</li></ul><p>
		This can be used to display an in-game join dialog.
		</p><pre class="gmlmd">
<span class="kw">var</span> <span class="lv">info_arr</span> <span class="op">=</span> <a class="sf" href="#steam_get_friends_game_info">steam_get_friends_game_info</a><span class="op">(</span><span class="op">)</span><span class="op">;</span>
<span class="kw">var</span> <span class="lv">info_num</span> <span class="op">=</span> <span class="uf">array_length</span><span class="op">(</span><span class="lv">info_arr</span><span class="op">)</span><span class="op">;</span>
<span class="kw">var</span> <span class="lv">_steam_app_id</span> <span class="op">=</span> <span class="sf">steam_get_app_id</span><span class="op">(</span><span class="op">)</span><span class="op">;</span>
<span class="kw">for</span> <span class="op">(</span><span class="kw">var</span> <span class="lv">i</span> <span class="op">=</span> <span class="nu">0</span><span class="op">;</span> <span class="lv">i</span> <span class="op">&lt;</span> <span class="lv">info_num</span><span class="op">;</span> <span class="lv">i</span><span class="op">++</span><span class="op">)</span> <span class="cb">{</span>
    <span class="kw">var</span> <span class="lv">info</span> <span class="op">=</span> <span class="lv">info_arr</span><span class="op">[</span><span class="lv">i</span><span class="op">]</span><span class="op">;</span>
    <span class="kw">if</span> <span class="op">(</span><span class="lv">info</span><span class="op">[</span><span class="nu">1</span><span class="op">]</span> <span class="op">==</span> <span class="lv">_steam_app_id</span><span class="op">)</span> <span class="cb">{</span> <span class="co">// same game!</span>
        <span class="kw">var</span> <span class="lv">lobby_id</span> <span class="op">=</span> <span class="lv">info</span><span class="op">[</span><span class="nu">2</span><span class="op">]</span><span class="op">;</span>
        <span class="kw">if</span> <span class="op">(</span><span class="lv">lobby_id</span> <span class="op">!=</span> <span class="nu">0</span><span class="op">)</span> <span class="cb">{</span> <span class="co">// has an open lobby!</span>
            <span class="kw">var</span> <span class="lv">user_id</span> <span class="op">=</span> <span class="lv">info</span><span class="op">[</span><span class="nu">0</span><span class="op">]</span><span class="op">;</span>
            <span class="co">// use steam_get_user_persona_name(user_id) to grab the name,</span>
            <span class="co">// store and use steam_lobby_join_id(lobby_id) to join the lobby when asked</span>
        <span class="cb">}</span>
    <span class="cb">}</span>
<span class="cb">}</span>
</pre></article></section></article></section><section><header id="steam_avatar"><a href="#steam_avatar" title="(permalink)">Avatar functions</a></header><article><section><header id="steam_get_user_avatar"><a href="#steam_get_user_avatar" title="(permalink)">steam_get_user_avatar(user_id, avatar_size)&#8203;<span class="ret-arrow">&#10140;</span>steam_image_id</a></header><article><p>
		Fetches an avatar for the specified user ID.
		</p><p>
		<code>avatar_size</code> can be: </p><ul>
		<li>	<code>steam_user_avatar_size_small</code>: A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamFriends#GetSmallFriendAvatar">GetSmallFriendAvatar</a>.
		</li><li>	<code>steam_user_avatar_size_medium</code>: A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamFriends#GetMediumFriendAvatar">GetMediumFriendAvatar</a>.
		</li><li>	<code>steam_user_avatar_size_large</code>: A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamFriends#GetLargeFriendAvatar">GetLargeFriendAvatar</a>.
		</li></ul><p>
		Returns positive IDs (for use with function below) if the avatar is ready;<br/>
		Returns <code>0</code> if no avatar is set for the user;<br/>
		Returns <code>-1</code> if the request is pending, triggers a <a href="#avatar_image_loaded">avatar_image_loaded</a> event.
	</p></article></section><section><header id="steam_image_get_size"><a href="#steam_image_get_size" title="(permalink)">steam_image_get_size(steam_image_id)&#8203;<span class="ret-arrow">&#10140;</span></a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamUtils#GetImageSize">GetImageSize</a>.
		</p><p>
		Fetches dimensions for the said Steam image ID.
		</p><p>
		If the call succeeds, the return value is a two-element array
		containing width and height in pixels.
		</p><p>
		If the call fails, returns <code>undefined</code>.
	</p></article></section><section><header id="steam_image_get_rgba"><a href="#steam_image_get_rgba" title="(permalink)">steam_image_get_rgba(steam_image_id, buffer)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamUtils#GetImageRGBA">GetImageRGBA</a>.
		</p><p>
		Grabs RGBA data of the specified Steam image ID into a GameMaker buffer.
		</p><p>
		The buffer should be appropriately sized in accordance with
		<a href="#steam_image_get_size">steam_image_get_size</a> (width * height * 4).
		</p><p>
		Returns whether successful.
	</p></article></section><section><header id="steam_image_get_bgra"><a href="#steam_image_get_bgra" title="(permalink)">steam_image_get_bgra(steam_image_id, buffer)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
		Like <a href="#steam_image_get_rgba">steam_image_get_rgba</a>,
		but converts the pixels to BGRA format
		(primarily for use with GMS1.4).
	</p></article></section><section><header id="steam_image_create_sprite"><a href="#steam_image_create_sprite" title="(permalink)">steam_image_create_sprite(steam_image_id)&#8203;<span class="ret-arrow">&#10140;</span>sprite</a></header><article><p>
		A convenience function that grabs the size of the given Steam image ID,
		creates a buffer for it, copies the pixels to the buffer,
		copies the pixels to a surface,
		and creates a sprite out of it.
		</p><p>
		Returns the newly made sprite ID
		(which you'll want to <code>sprite_delete</code> once you're done with it)
		or <code>-1</code> if the operation fails.
	</p></article></section></article></section><section><header id="steam_overlay"><a href="#steam_overlay" title="(permalink)">Steam Overlay</a></header><article><section><header id="steam_activate_overlay_raw"><a href="#steam_activate_overlay_raw" title="(permalink)">steam_activate_overlay_raw(raw_name)</a></header><article><p>
		Like GameMaker's <code>steam_activate_overlay</code>, but allows to specify any raw names
		from <a href="https://partner.steamgames.com/doc/api/ISteamFriends#ActivateGameOverlay">Steamworks documentation</a>
		that may not be covered by <code>ov_</code> constants.
	</p></article></section><section><header id="steam_set_overlay_notification_position"><a href="#steam_set_overlay_notification_position" title="(permalink)">steam_set_overlay_notification_position(position)</a></header><article><p>
		Changes the corner in which overlay notifications will appear.
		</p><p>
		Position can be: </p><ul>
		<li>	<code>steam_overlay_notification_position_top_left</code>
		</li><li>	<code>steam_overlay_notification_position_top_right</code>
		</li><li>	<code>steam_overlay_notification_position_bottom_left</code>
		</li><li>	<code>steam_overlay_notification_position_bottom_right</code>
		</li></ul><p>
		This position is per-game and is reset each launch.
	</p></article></section><section><header id="steam_set_overlay_notification_inset"><a href="#steam_set_overlay_notification_inset" title="(permalink)">steam_set_overlay_notification_inset(hor_inset, vert_inset)</a></header><article><p>
		Sets the inset of the overlay notification from the corner specified by <a href="#steam_set_overlay_notification_position">steam_set_overlay_notification_position</a>.
		</p><p>
		A value of (0, 0) resets the position into the corner.
		</p><p>
		This position is per-game and is reset each launch.
	</p></article></section></article></section><section><header id="steam_rich_presence"><a href="#steam_rich_presence" title="(permalink)">Rich Presence</a></header><article><section><header id="steam_set_rich_presence"><a href="#steam_set_rich_presence" title="(permalink)">steam_set_rich_presence(key:string, value:string)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
		See <a href="https://partner.steamgames.com/doc/api/ISteamFriends#SetRichPresence">SetRichPresence</a>
		for a comprehensive explanation of things to do with this function.
	</p></article></section><section><header id="steam_clear_rich_presence"><a href="#steam_clear_rich_presence" title="(permalink)">steam_clear_rich_presence()</a></header><article><p>
		Equivalent of <a href="https://partner.steamgames.com/doc/api/ISteamFriends#ClearRichPresence">ClearRichPresence</a>
	</p></article></section></article></section><section><header id="steam_inventory"><a href="#steam_inventory" title="(permalink)">Steam Inventory</a></header><article><p>
	
	
	The following functions allow to use
	<a href="https://partner.steamgames.com/doc/features/inventory">Steam Inventory Service</a>.
	</p><p>
	Types:
	</p><section><header id="steam_inventory_item_def"><a href="#steam_inventory_item_def" title="(permalink)">steam_inventory_item_def</a></header><article><p>
		Represents an item type ("item definition number").
		</p><p>
		Valid definition numbers are between 1 and 999999999;<br/>
		Numbers less than or equal to zero are invalid;<br/>
		Numbers greater than or equal to one billion (1x10^9) are reserved for internal Steam use.
	</p></article></section><section><header id="steam_inventory_item_id"><a href="#steam_inventory_item_id" title="(permalink)">steam_inventory_item_id</a></header><article><p>
		Every individual instance of an item has a globally-unique instance ID.
		</p><p>
		This ID is unique to the combination of a player and specific item instance,
		and will not be transferred to another player or re-used for another item.
	</p></article></section><section><header id="steam_inventory_result"><a href="#steam_inventory_result" title="(permalink)">steam_inventory_result</a></header><article><p>
		Many of the functions in this section return a <code>steam_inventory_result</code> async result ID.
		</p><p>
		Invalid results are represented by <code>-1</code>, also available as <code>steam_inventory_result_invalid</code> constant.
		</p><p>
		When a result is ready, an async event will be dispatched with: </p><ul>
		<li>	<code>async_load[?"event_type"]</code>: <code>"inventory_result_ready"</code>
		</li><li>	<code>async_load[?"result"]</code>: status code as per <a href="#steam_inventory_result_get_status">steam_inventory_result_get_status</a>.
		</li><li>	<code>async_load[?"handle"]</code>: the associated async result ID,
			which can be used to tell apart what result this event is for.
		</li></ul><p>
		The ID can later be found in <code>async_load[?"handle"]</code> in inventory-related async events
		and can be polled to retrieve status or returned items.
		</p><p>
		Async results must be destroyed when you are done using them via <a href="#steam_inventory_result_destroy">steam_inventory_result_destroy</a>.
		</p><section><header id="steam_inventory_result_get_status"><a href="#steam_inventory_result_get_status" title="(permalink)">steam_inventory_result_get_status(inv_result)&#8203;<span class="ret-arrow">&#10140;</span>int</a></header><article><p>
			A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#GetResultStatus">GetResultStatus</a>.
			</p><p>
			Returns status code of a result.
			</p><p>
			You may opt to use this instead of async events.
			</p><p>
			Possible values are: </p><ul>
				<li> <code>steam_inventory_result_status_pending</code>
				</li><li> <code>steam_inventory_result_status_ok</code>
				</li><li> <code>steam_inventory_result_status_expired</code>
				</li><li> <code>steam_inventory_result_status_invalid</code>
				</li><li> <code>steam_inventory_result_status_fail</code>
				</li><li> <code>steam_inventory_result_status_invalid_param</code>
				</li><li> <code>steam_inventory_result_status_service_unavailable</code>
				</li><li> <code>steam_inventory_result_status_limit_exceeded</code>
			</li></ul><p> (see Steam documentation for status code explanations)
		</p></article></section><section><header id="steam_inventory_result_destroy"><a href="#steam_inventory_result_destroy" title="(permalink)">steam_inventory_result_destroy(inv_result)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
			A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#DestroyResult">DestroyResult</a>.
			</p><p>
			Destroys a result handle and frees all associated memory.
		</p></article></section><section><header id="steam_inventory_result_get_unix_timestamp"><a href="#steam_inventory_result_get_unix_timestamp" title="(permalink)">steam_inventory_result_get_unix_timestamp(inv_result)&#8203;<span class="ret-arrow">&#10140;</span>int</a></header><article><p>
			A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#GetResultTimestamp">GetResultTimestamp</a>.
			</p><p>
			Returns a Unix timestamp for the server time at which the result was generated.
		</p></article></section><section><header id="steam_inventory_result_get_item_property"><a href="#steam_inventory_result_get_item_property" title="(permalink)">steam_inventory_result_get_item_property(inv_result, item_index:int, prop_name:int)&#8203;<span class="ret-arrow">&#10140;</span>int</a></header><article><p>
			A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#GetResultItemProperty">GetResultItemProperty</a>.
			</p><p>
			Gets the dynamic properties from an item in an inventory result set.
			</p><p>
			Property names are always composed of ASCII letters, numbers, and/or underscores.
		</p></article></section><section><header id="steam_inventory_result_get_items"><a href="#steam_inventory_result_get_items" title="(permalink)">steam_inventory_result_get_items(inv_result)&#8203;<span class="ret-arrow">&#10140;</span>array</a></header><article><p>
			A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#GetResultItems">GetResultItems</a>.
			</p><p>
			Get the items associated with an inventory result handle.
			</p><p>
			This returns an array of <a href="#structs">structs</a> that contain: </p><ul>
			<li>	<code>item_id</code>: a <a href="#steam_inventory_item_id">steam_inventory_item_id</a> representing the item instance.
			</li><li>	<code>item_def</code>: a <a href="#steam_inventory_item_def">steam_inventory_item_def</a> representing the item type.
			</li><li>	<code>quantity</code>: an <code>int</code> indicating how many of the said item there is in the slot.
			</li><li>	<code>flags</code>: see <a href="https://partner.steamgames.com/doc/api/ISteamInventory#ESteamItemFlags">ESteamItemFlags</a>
			</li></ul></article></section></article></section><hr/><section><header id="steam_inventory_trigger_item_drop"><a href="#steam_inventory_trigger_item_drop" title="(permalink)">steam_inventory_trigger_item_drop(item_def)&#8203;<span class="ret-arrow">&#10140;</span>steam_inventory_result</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#TriggerItemDrop">TriggerItemDrop</a>.
		</p><p>
		<b>NOTE</b>: You must call <a href="#steam_inventory_result_destroy">steam_inventory_result_destroy</a> on the returned async result ID when you are done with it.
	</p></article></section><section><header id="steam_inventory_add_promo_item"><a href="#steam_inventory_add_promo_item" title="(permalink)">steam_inventory_add_promo_item(item_def)&#8203;<span class="ret-arrow">&#10140;</span>steam_inventory_result</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#AddPromoItem">AddPromoItem</a>.
		</p><p>
		<b>NOTE</b>: You must call <a href="#steam_inventory_result_destroy">steam_inventory_result_destroy</a> on the returned async result ID when you are done with it.
	</p></article></section><section><header id="steam_inventory_add_promo_items"><a href="#steam_inventory_add_promo_items" title="(permalink)">steam_inventory_add_promo_items(item_defs)&#8203;<span class="ret-arrow">&#10140;</span>steam_inventory_result</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#AddPromoItems">AddPromoItems</a>.
		</p><p>
		Takes an array of <a href="#steam_inventory_item_def">steam_inventory_item_def</a>s and grants the user multiple items.
		</p><p>
		<b>NOTE</b>: You must call <a href="#steam_inventory_result_destroy">steam_inventory_result_destroy</a> on the returned async result ID when you are done with it.
	</p></article></section><section><header id="steam_inventory_consume_item"><a href="#steam_inventory_consume_item" title="(permalink)">steam_inventory_consume_item(item_id, quantity)&#8203;<span class="ret-arrow">&#10140;</span>steam_inventory_result</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#ConsumeItem">ConsumeItem</a>.
		</p><p>
		<b>NOTE</b>: You must call <a href="#steam_inventory_result_destroy">steam_inventory_result_destroy</a> on the returned async result ID when you are done with it.
	</p></article></section><section><header id="steam_inventory_exchange_items"><a href="#steam_inventory_exchange_items" title="(permalink)">steam_inventory_exchange_items(create_arr, destroy_arr)&#8203;<span class="ret-arrow">&#10140;</span>steam_inventory_result</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#ExchangeItems">ExchangeItems</a>.
		</p><p>
		Grants one item in exchange for a set of other items.
		</p><p>
		<code>create_arr</code> is an array of <a href="#structs">structs</a> representing items to be created: </p><ul>
		<li>	<code>item_def</code>: a <a href="#steam_inventory_item_def">steam_inventory_item_def</a> representing the item type
		</li><li>	<code>quantitiy</code>: number of items of type to be created
		</li></ul><p>
		<code>destroy_arr</code> is an array of structs representing items to be consumed: </p><ul>
		<li>	<code>item_id</code>: a <a href="#steam_inventory_item_id">steam_inventory_item_id</a> of an item to be consumed
		</li><li>	<code>quantity</code>: how much of the said item is to be consumed
		</li></ul><p>
		As of writing this, Steam only supports creating one item per call.
		</p><p>
		See Steam documentation for specifics.
		</p><p>
		<b>NOTE</b>: You must call <a href="#steam_inventory_result_destroy">steam_inventory_result_destroy</a> on the returned async result ID when you are done with it.
	</p></article></section><section><header id="steam_inventory_generate_items"><a href="#steam_inventory_generate_items" title="(permalink)">steam_inventory_generate_items(create_arr)&#8203;<span class="ret-arrow">&#10140;</span>steam_inventory_result</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#GenerateItems">GenerateItems</a>.
		</p><p>
		Generates specific items for the current user.
		</p><p>
		This is only usable by Steam accounts that belong to the publisher group for your game.
		</p><p>
		<code>create_arr</code> is an array of <a href="#structs">structs</a> representing items to be created: </p><ul>
		<li>	<code>item_def</code>: a <a href="#steam_inventory_item_def">steam_inventory_item_def</a> representing the item type
		</li><li>	<code>quantitiy</code>: number of items of type to be created
		</li></ul><p>
		<b>NOTE</b>: You must call <a href="#steam_inventory_result_destroy">steam_inventory_result_destroy</a> on the returned async result ID when you are done with it.
	</p></article></section><section><header id="steam_inventory_start_purchase"><a href="#steam_inventory_start_purchase" title="(permalink)">steam_inventory_start_purchase(purchase_arr)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#StartPurchase">StartPurchase</a>.
		</p><p>
		Opens a Steam Overlay browser for user to purchase specified items.
		The user then may confirm or decline the purchase.
		</p><p>
		This is only usable by Steam accounts that belong to the publisher group for your game.
		</p><p>
		<code>purchase_arr</code> is an array of <a href="#structs">structs</a> representing items to be purchased: </p><ul>
		<li>	<code>item_def</code>: a <a href="#steam_inventory_item_def">steam_inventory_item_def</a> representing the item type
		</li><li>	<code>quantitiy</code>: number of items of the type to be purchased
		</li></ul><p>
		Returns whether the API started opening overlay (which may not happen instantly).
	</p></article></section><section><header id="steam_inventory_get_all_items"><a href="#steam_inventory_get_all_items" title="(permalink)">steam_inventory_get_all_items()&#8203;<span class="ret-arrow">&#10140;</span>steam_inventory_result</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#GetAllItems">GetAllItems</a>.
		</p><p>
		Starts retrieving all items in the current user's inventory.
		</p><p>
		<b>NOTE</b>: You must call <a href="#steam_inventory_result_destroy">steam_inventory_result_destroy</a> on the returned async result ID when you are done with it.
	</p></article></section><section><header id="steam_inventory_request_eligible_promo_item_defs"><a href="#steam_inventory_request_eligible_promo_item_defs" title="(permalink)">steam_inventory_request_eligible_promo_item_defs(?user_id)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#RequestEligiblePromoItemDefinitionsIDs">RequestEligiblePromoItemDefinitionsIDs</a>.
		</p><p>
		Requests the list of "eligible" promo items that can be manually granted to the given user.
		</p><p>
		If <code>user_id</code> is omitted, the items will be checked for the current user.
		</p><p>
		Once ready, dispatches an async event with: </p><ul>
		<li>	<code>async_load[?"event_type"]</code>: <code>"inventory_request_eligible_promo_item_defs"</code>
		</li><li>	<code>async_load[?"user_id_high"]</code>: First half of the user ID (to be passed to <a href="#steam_id_create">steam_id_create</a>)
		</li><li>	<code>async_load[?"user_id_low"]</code>: Second half of the user ID (same as above)
		</li><li>	<code>async_load[?"item_def_count"]</code>: Number of items returned
		</li><li>	<code>async_load[?"item_def_json"]</code>: A JSON string with an array of
			<a href="#steam_inventory_item_def">steam_inventory_item_def</a>s
		</li><li>	<code>async_load[?"is_cached_data"]</code>: indicates whether the data was retrieved from the cache
			and not from the server
		</li></ul><p>
		<b>NOTE:</b> This is only available for GMS2/SDK1.42+.
	</p></article></section><section><header id="steam_inventory_get_items_by_id"><a href="#steam_inventory_get_items_by_id" title="(permalink)">steam_inventory_get_items_by_id(item_ids)&#8203;<span class="ret-arrow">&#10140;</span>steam_inventory_result</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#GetItemsByID">GetItemsByID</a>.
		</p><p>
		Requests information about a subset of the current user's inventory.
		</p><p>
		<code>item_ids</code> is an array of <a href="#steam_inventory_item_id">steam_inventory_item_id</a>s.
		</p><p>
		<b>NOTE</b>: You must call <a href="#steam_inventory_result_destroy">steam_inventory_result_destroy</a> on the returned async result ID when you are done with it.
	</p></article></section><section><header id="steam_inventory_load_item_definitions"><a href="#steam_inventory_load_item_definitions" title="(permalink)">steam_inventory_load_item_definitions()&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#LoadItemDefinitions">LoadItemDefinitions</a>.
		</p><p>
		Triggers an asynchronous load and refresh of item definitions.
		</p><p>
		Dispatches an async event with <code>async_load[?"event_type"]</code> == <code>"inventory_definition_update"</code> when done.
	</p></article></section><section><header id="steam_inventory_price"><a href="#steam_inventory_price" title="(permalink)">Item prices</a></header><article><p>
		<b>NOTE:</b> The following are only available for GMS2/SDK1.42+.
		</p><section><header id="steam_inventory_request_prices"><a href="#steam_inventory_request_prices" title="(permalink)">steam_inventory_request_prices()&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
			A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#RequestPrices">RequestPrices</a>.
		</p></article></section><section><header id="steam_inventory_get_item_price"><a href="#steam_inventory_get_item_price" title="(permalink)">steam_inventory_get_item_price(item_def:steam_inventory_item_def)&#8203;<span class="ret-arrow">&#10140;</span>int?</a></header><article><p>
			A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#GetItemPrice">GetItemPrice</a>.
		</p></article></section><section><header id="steam_inventory_get_items_with_prices"><a href="#steam_inventory_get_items_with_prices" title="(permalink)">steam_inventory_get_items_with_prices()&#8203;<span class="ret-arrow">&#10140;</span>array&lt;any&gt;?</a></header><article><p>
			A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#GetItemsWithPrices">GetItemsWithPrices</a>.
		</p></article></section></article></section><section><header id="steam_inventory_transfer_item_quantity"><a href="#steam_inventory_transfer_item_quantity" title="(permalink)">steam_inventory_transfer_item_quantity(source_item_id, quantity, dest_item_id)&#8203;<span class="ret-arrow">&#10140;</span>steam_inventory_result</a></header><article><p>
		A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#TransferItemQuantity">TransferItemQuantity</a>.
		<b>NOTE</b>: You must call <a href="#steam_inventory_result_destroy">steam_inventory_result_destroy</a> on the returned async result ID when you are done with it.
	</p></article></section><section><header id="steam_inventory_update_"><a href="#steam_inventory_update_" title="(permalink)">Item property updates</a></header><article><p>
		<b>NOTE:</b> The following are only available for GMS2/SDK1.42+.
		</p><section><header id="steam_inventory_start_update_properties"><a href="#steam_inventory_start_update_properties" title="(permalink)">steam_inventory_start_update_properties()&#8203;<span class="ret-arrow">&#10140;</span>steam_inventory_update_handle</a></header><article><p>
			A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#StartUpdateProperties">StartUpdateProperties</a>.
			</p><p>
			Starts a transaction request to update dynamic properties on items for the current user. 
			</p><p>
			Returns a <code>steam_inventory_update_handle</code> that is used in other functions in this section.
		</p></article></section><hr/><section><header id="steam_inventory_set_property_bool"><a href="#steam_inventory_set_property_bool" title="(permalink)">steam_inventory_set_property_bool(handle, item_id, prop_name, bool_val)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
			A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#SetProperty">SetProperty</a>.
		</p></article></section><section><header id="steam_inventory_set_property_float"><a href="#steam_inventory_set_property_float" title="(permalink)">steam_inventory_set_property_float(handle, item_id, prop_name, f32_val)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
			Same as above, but for 32-bit floats.
		</p></article></section><section><header id="steam_inventory_set_property_int"><a href="#steam_inventory_set_property_int" title="(permalink)">steam_inventory_set_property_int(handle, item_id, prop_name, int_val)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
			Same as above, but for 64-bit integers.
		</p></article></section><section><header id="steam_inventory_set_property_string"><a href="#steam_inventory_set_property_string" title="(permalink)">steam_inventory_set_property_string(handle, item_id, prop_name, str_val)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
			Same as above, but for strings.
		</p></article></section><section><header id="steam_inventory_remove_property"><a href="#steam_inventory_remove_property" title="(permalink)">steam_inventory_remove_property(handle, item_id, prop_name)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
			A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#RemoveProperty">RemoveProperty</a>.
			</p><p>
			Removes a dynamic property for the given item.
		</p></article></section><hr/><section><header id="steam_inventory_submit_update_properties"><a href="#steam_inventory_submit_update_properties" title="(permalink)">steam_inventory_submit_update_properties(handle)&#8203;<span class="ret-arrow">&#10140;</span>steam_inventory_result</a></header><article><p>
			A wrapper for <a href="https://partner.steamgames.com/doc/api/ISteamInventory#SubmitUpdateProperties">SubmitUpdateProperties</a>.
			</p><p>
			<b>NOTE</b>: You must call <a href="#steam_inventory_result_destroy">steam_inventory_result_destroy</a> on the returned async result ID when you are done with it.
		</p></article></section></article></section></article></section><section><header id="steam_id"><a href="#steam_id" title="(permalink)">Steam ID functions</a></header><article><p>
	Functions for handling 64-bit Steam IDs
	</p><section><header id="steam_id_use_int64"><a href="#steam_id_use_int64" title="(permalink)">steam_id_use_int64:bool</a></header><article><p>
		This macro can be flipped to <code>false</code> on the <code>steam_id.gml</code> file,
		which will cause Steamworks.gml to store Steam IDs as two 32-bit integers
		in a tiny array instead.
		</p><p>
		This was only useful in REALLY old (1.4.1757 and earlier) versions of GameMaker: Studio
		where 64-bit integer support was occasionally buggy.
	</p></article></section><section><header id="steam_id_create"><a href="#steam_id_create" title="(permalink)">steam_id_create(high, low)&#8203;<span class="ret-arrow">&#10140;</span>steam_id</a></header><article><p>
		Creates a 64-bit ID from two 32-bit halves.
		</p><p>
		You can see it occasionally used in <a href="#steam_async">async events</a> since GameMaker lacks support
		for dispatching async events with 64-bit integer fields in them.
	</p></article></section><section><header id="steam_id_get_high"><a href="#steam_id_get_high" title="(permalink)">steam_id_get_high(steam_id)&#8203;<span class="ret-arrow">&#10140;</span>int</a></header><article><p>
		Returns the higher 32-bit half of a Steam ID.
	</p></article></section><section><header id="steam_id_get_low"><a href="#steam_id_get_low" title="(permalink)">steam_id_get_low(steam_id)&#8203;<span class="ret-arrow">&#10140;</span>int</a></header><article><p>
		Returns the lower 32-bit half of a Steam ID.
	</p></article></section><section><header id="steam_id_equals"><a href="#steam_id_equals" title="(permalink)">steam_id_equals(steam_id1, steam_id2)&#8203;<span class="ret-arrow">&#10140;</span>bool</a></header><article><p>
		Returns whether the two Steam IDs are identical.
		</p><p>
		(with <a href="#steam_id_use_int64">steam_id_use_int64</a> enabled, this is just <code>steam_id1 == steam_id2</code>)
	</p></article></section><section><header id="steam_id_from_int64"><a href="#steam_id_from_int64" title="(permalink)">steam_id_from_int64(int64)&#8203;<span class="ret-arrow">&#10140;</span>steam_id</a></header><article><p>
		Converts an int64 to a Steam ID.
		</p><p>
		(only useful with <a href="#steam_id_use_int64">steam_id_use_int64</a> disabled)
	</p></article></section><section><header id="steam_id_to_int64"><a href="#steam_id_to_int64" title="(permalink)">steam_id_to_int64(steam_id)&#8203;<span class="ret-arrow">&#10140;</span>int64</a></header><article><p>
		Converts a Steam ID to an int64.
		</p><p>
		(only useful with <a href="#steam_id_use_int64">steam_id_use_int64</a> disabled)
	</p></article></section></article></section><section><header id="steam_uncommon"><a href="#steam_uncommon" title="(permalink)">Uncommon functions</a></header><article><p>
	Anything not fitting into the above categories.
	</p><section><header id="steam_ugc_delete_item"><a href="#steam_ugc_delete_item" title="(permalink)">steam_ugc_delete_item(published_file_id)</a></header><article><p>
		Attempts deletion of a previously published UGC item.
		</p><p>
		This will dispatch an async event with: </p><ul>
		<li>	<code>"event_type"</code>: <code>"ugc_delete_item"</code>
		</li><li>	<code>"success"</code>: whether deletion succeeded
		</li><li>	<code>"result"</code>: can offer a more detailed status code if deletion fails
		</li><li>	<code>"published_file_id_high"</code>
		</li><li>	<code>"published_file_id_low"</code>
		</li></ul><pre class="gmlmd">
<span class="kw">if</span> <span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"event_type"</span><span class="op">]</span> <span class="op">==</span> <span class="st">"ugc_delete_item"</span><span class="op">)</span> <span class="cb">{</span>
    <span class="kw">var</span> <span class="lv">file_id</span> <span class="op">=</span> <a class="sf" href="#steam_id_create">steam_id_create</a><span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"published_file_id_high"</span><span class="op">]</span><span class="op">,</span> <span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"published_file_id_low"</span><span class="op">]</span><span class="op">)</span><span class="op">;</span>
    <span class="kw">if</span> <span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"success"</span><span class="op">]</span><span class="op">)</span> <span class="cb">{</span>
        <span class="sf">show_debug_message</span><span class="op">(</span><span class="st">"Deleted "</span> <span class="op">+</span> <span class="sf">string</span><span class="op">(</span><span class="lv">file_id</span><span class="op">)</span><span class="op">)</span><span class="op">;</span>
    <span class="cb">}</span> <span class="kw">else</span> <span class="cb">{</span>
        <span class="sf">show_debug_message</span><span class="op">(</span><span class="st">"Failed to delete "</span> <span class="op">+</span> <span class="sf">string</span><span class="op">(</span><span class="lv">file_id</span><span class="op">)</span>
            <span class="op">+</span> <span class="st">" - EResult "</span> <span class="op">+</span> <span class="sf">string</span><span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"result"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">;</span>
    <span class="cb">}</span>
<span class="cb">}</span>
</pre></article></section><hr/><section><header id="steam_get_app_ownership_ticket_data"><a href="#steam_get_app_ownership_ticket_data" title="(permalink)">steam_get_app_ownership_ticket_data(buffer, ?app_id)</a></header><article><p>
		Takes a buffer and fills it up with a reasonable "future proof" view of an app ownership ticket for a given app ID.
		</p><p>
		<code>buffer</code> is a buffer to fill up.
		Documentation is not very specific, but it seems like it should be at least 256 bytes long.
		</p><p>
		<code>app_id</code> is the Steam App ID to retrieve ownership data for.
		If not specified, this defaults to <code>steam_get_app_id()</code>.
		</p><p>
		Returns a 5-element array: </p><ul>
		<li>	0: Total number of bytes retrieved (0 if the buffer wasn't large enough).
		</li><li>	1: Byte offset for App ID in the buffer.
		</li><li>	2: Byte offset for Steam User ID in the buffer.
		</li><li>	3: Byte offset for signature in the buffer.
		</li><li>	4: Byte length for signature in the buffer.
		</li></ul><p>
		For example,
		</p><pre class="gmlmd">
<span class="kw">var</span> <span class="lv">b</span> <span class="op">=</span> <span class="sf">buffer_create</span><span class="op">(</span><span class="nu">256</span><span class="op">,</span> <span class="sv">buffer_fixed</span><span class="op">,</span> <span class="nu">1</span><span class="op">)</span><span class="op">;</span>
<span class="kw">var</span> <span class="lv">d</span> <span class="op">=</span> <a class="sf" href="#steam_get_app_ownership_ticket_data">steam_get_app_ownership_ticket_data</a><span class="op">(</span><span class="lv">b</span><span class="op">)</span><span class="op">;</span>
<span class="kw">if</span> <span class="op">(</span><span class="lv">d</span><span class="op">[</span><span class="nu">0</span><span class="op">]</span> <span class="op">&gt;</span> <span class="nu">0</span><span class="op">)</span> <span class="cb">{</span>
    <span class="sf">show_debug_message</span><span class="op">(</span><span class="st">"App ID: "</span> <span class="op">+</span> <span class="sf">string</span><span class="op">(</span><span class="sf">buffer_peek</span><span class="op">(</span><span class="lv">b</span><span class="op">,</span> <span class="lv">d</span><span class="op">[</span><span class="nu">1</span><span class="op">]</span><span class="op">,</span> <span class="sv">buffer_u32</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">;</span>
    <span class="sf">show_debug_message</span><span class="op">(</span><span class="st">"User ID: "</span> <span class="op">+</span> <span class="sf">string</span><span class="op">(</span><span class="sf">buffer_peek</span><span class="op">(</span><span class="lv">b</span><span class="op">,</span> <span class="lv">d</span><span class="op">[</span><span class="nu">2</span><span class="op">]</span><span class="op">,</span> <span class="sv">buffer_u64</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">;</span>
    <span class="sf">show_debug_message</span><span class="op">(</span><span class="st">"Signature: "</span> <span class="op">+</span> <span class="sf">string</span><span class="op">(</span><span class="lv">d</span><span class="op">[</span><span class="nu">4</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span> <span class="st">"B at ofs:"</span> <span class="op">+</span> <span class="sf">string</span><span class="op">(</span><span class="lv">d</span><span class="op">[</span><span class="nu">3</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">;</span>
<span class="cb">}</span> <span class="kw">else</span> <span class="cb">{</span>
    <span class="sf">show_debug_message</span><span class="op">(</span><span class="st">"Failed to retrieve app ownership data."</span><span class="op">)</span><span class="op">;</span>
<span class="cb">}</span>
</pre><p>
		See: <a href="https://partner.steamgames.com/doc/api/ISteamAppTicket">ISteamAppTicket</a>
	</p></article></section><section><header id="steam_user_request_encrypted_app_ticket"><a href="#steam_user_request_encrypted_app_ticket" title="(permalink)">steam_user_request_encrypted_app_ticket(?data, ?data_size)</a></header><article><p>
		<code>data</code> (optional) is a string or a buffer to include in the resulting buffer.<br/>
		If not specified, defaults to NULL and includes no additional data.
		</p><p>
		<code>data_size</code> (optional) is the number of bytes in <code>data</code>.<br/>
		If not specified, this will be set to byte count in a string (not including the final NUL),
		or buffer size.
		</p><p>
		This function is async.<br/>
		Once ready, it will dispatch the following Async - Steam event: </p><ul>
		<li>	<code>"event_type"</code>: will be <code>"user_encrypted_app_ticket_response_received"</code>.
		</li><li>	<code>"success"</code>: will be <code>true</code> or <code>false</code> depending on whether the operation succeeded.
		</li><li>	<code>"result"</code>: will hold the extended EResult ID if you need that.
		</li><li>	<code>"ticket_data"</code>: will hold base64 of returned binary data.<br/>
			You'll probably want to <code>buffer_base64_decode</code> it.
		</li></ul><p>
		For example:
		</p><pre class="gmlmd">
<a class="sf" href="#steam_user_request_encrypted_app_ticket">steam_user_request_encrypted_app_ticket</a><span class="op">(</span><span class="op">)</span><span class="op">;</span>
</pre><p>
		and in Async - Steam:
		</p><pre class="gmlmd">
<span class="kw">if</span> <span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"event_type"</span><span class="op">]</span> <span class="op">==</span> <span class="st">"user_encrypted_app_ticket_response_received"</span><span class="op">)</span> <span class="cb">{</span>
    <span class="kw">if</span> <span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"success"</span><span class="op">]</span><span class="op">)</span> <span class="cb">{</span>
        <span class="kw">var</span> <span class="lv">buf</span> <span class="op">=</span> <span class="sf">buffer_base64_decode</span><span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"ticket_data"</span><span class="op">]</span><span class="op">)</span><span class="op">;</span>
        <span class="co">// ... do something with buf</span>
        <span class="sf">buffer_delete</span><span class="op">(</span><span class="lv">buf</span><span class="op">)</span><span class="op">;</span>
    <span class="cb">}</span> <span class="kw">else</span> <span class="cb">{</span>
        <span class="sf">show_debug_message</span><span class="op">(</span><span class="st">"Failed to retrieve app ticket - "</span>
            <span class="op">+</span> <span class="sf">string</span><span class="op">(</span><span class="sv">async_load</span><span class="op">[</span><span class="op">?</span><span class="st">"result"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">;</span>
    <span class="cb">}</span>
<span class="cb">}</span>
</pre><p>
		See: <a href="https://partner.steamgames.com/doc/api/ISteamUser#RequestEncryptedAppTicket">RequestEncryptedAppTicket</a>
		</p><p>
		Not to be confused with <a href="#steam_get_app_ownership_ticket_data">steam_get_app_ownership_ticket_data</a>!
	</p></article></section></article></section></p><!--doc>-->
</section></main></div>
<script type="text/javascript">(function() {
	var doc, headers;
	//
	var path = "steamworks.gml cheat sheet";
	var state = null;
	if (window.localStorage && JSON.parse) {
		state = window.localStorage.getItem(path);
		state = state ? JSON.parse(state) : { };
		if (state == null) state = { };
	}
	var isLocal = (location.host.indexOf("localhost") == 0);
	//
	function h3bind(h3) {
		var node = h3.parentNode;
		var snip = node.children[1];
		var id = h3.id || h3.textContent;
		h3.snip = snip;
		h3.doc_set = function(z) {
			if (z) node.classList.add("open"); else node.classList.remove("open");
			if (state) {
				state[id] = z;
				window.localStorage.setItem(path, JSON.stringify(state));
			}
		}
		h3.doc_hide = function() {
			this.doc_set(false);
		}
		h3.doc_show = function() {
			this.doc_set(true);
		}
		h3.onclick = function(_) {
			var seen = !node.classList.contains("open");
			h3.doc_set(seen);
			return false;
		};
	}
	function getHashFunc(id) {
		var node = document.getElementById(id);
		if (node == null) return null;
		return function(e) {
			while (node && node != doc) {
				if (node.classList.contains("item")) {
					node.classList.add("open");
				}
				node = node.parentElement;
			}
		};
	}
	// Display helpers:
	window.opt_none = function() {
		for (var li = 0; li < headers.length; li++) headers[li].doc_hide();
	};
	window.opt_list = function() {
		for (var li = 0; li < headers.length; li++) {
			var h3 = headers[li];
			if (h3.parentNode.parentNode != doc) {
				h3.doc_hide();
			} else h3.doc_show();
		}
	};
	window.opt_all = function() {
		for (var li = 0; li < headers.length; li++) headers[li].doc_show();
	};
	window.live_post = function() {
		doc = document.getElementById("doc");
		headers = doc.getElementsByTagName("header");
		//
		for (var i = 0; i < headers.length; i++) h3bind(headers[i]);
		// Clicks in document expand the related section:
		var anchors = doc.getElementsByTagName("a");
		for (var i = 0; i < anchors.length; i++) {
			var anchor = anchors[i];
			if (anchor.classList.contains("header")) continue;
			var href = anchor.getAttribute("href");
			if (href[0] == "#") {
				var fn = getHashFunc(href.substr(1));
				if (!fn) {
					anchor.classList.add("broken");
					anchor.title = "(section missing)";
				} else anchor.addEventListener("click", fn);
			}
		}
		//
		for (var li = 0; li < headers.length; li++) {
			var h3 = headers[li];
			var val = state ? state[h3.id || h3.textContent] : null;
			if (val == null) val = isLocal || h3.parentNode.parentNode == doc;
			if (val) h3.doc_show(); else h3.doc_hide();
		}
	};
	window.live_post();
	//
	(function() {
		var hash = document.location.hash;
		if (hash) {
			var _hash = hash.substr(1);
			getHashFunc(_hash)();
			setTimeout(function() {
				document.location.hash = hash + " ";
				setTimeout(function() {
					document.location.hash = hash;
				}, 100);
			}, 100);
		}
	})();
	//
	doc.setAttribute("ready", "");
	})();</script>
</body></html>
